import { Start as fO } from "./WebSharper.Core.JavaScript/Runtime.js"
import { Lazy as fP, MarkResizable as fQ, SetOptional as fR, Force as fS, GetOptional as fT, CreateFuncWithArgs as fU, DeleteEmptyFields as fV, Create as fW, OnLoad as fX } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(fY){ return"Dispose"in fY;}
function b(){ const fY=new q("New_1");const fZ=(fY.h.push(new I("status", c().View)),fY);const f0=(fZ.h.push(t(fZ.k, "connectusb", () => fZ.i, () => { const f6=null;Q(N(() => O(Z(d()), () => P(null))), null);})),fZ);const f1=(f0.h.push(t(f0.k, "sendusbdata", () => f0.i, () => { const f6=null;Q(N(() => O(Z(e()), () => P(null))), null);})),f0);const f2=u(f1.k, f1.h, []);const f3=new l(f2[1], G(f2[0]));let f4=(f1.i=f3,f3);const f5=f4.Doc;u0034("");bl.RunById("main", f5);}
function c(){ return J.statusMessage;}
function d(){ const fY=null;return new Promise((fZ) => { fZ(new Promise((f0) => { f0(f().requestDevice({filters:[]}).then((f1) => f1.open().then(() => f1.selectConfiguration(1).then(() => f1.claimInterface(0).then(() => { g().Set(f1);c().Set("Connected to USB device: $"+String(g().Get().productName));const f2=g().Get();(((f3) => f3("USB Device Connected: "+String(f2)))((f3) => { console.log(f3);}));return Promise.resolve(null);})))));})["catch"]((f0) => { const f1=u0030(f0);c().Set("Connection Failed: "+String(f1.message));(((f2) => f2("USB Connection Error: "+String(f1)))((f2) => { console.log(f2);}));return Promise.resolve(null);}));});}
function e(){ const fY=null;return new Promise((fZ) => { fZ(g().Get()==null?(c().Set("Please connect a USB device first."),Promise.resolve(null)):new Promise((f0) => { const f1=eval("new TextEncoder()").encode("Hello USB!");let f2=g().Get().transferOut(1, f1).then(() => { c().Set("Data sent to USB device.");(((f3) => f3("Data sent: "+String(f1)))((f3) => { console.log(f3);}));return Promise.resolve(null);});f0(f2);})["catch"]((f0) => { const f1=u0030(f0);c().Set("Data transfer failed: "+String(f1.message));(((f2) => f2("USB Data Transfer Error: "+String(f1)))((f2) => { console.log(f2);}));return Promise.resolve(null);}));});}
function f(){ return J.usb;}
function g(){ return J.device;}
function h(fY){ throw new Error(fY);}
function i(fY){ return[fY.K, fY.V];}
function j(fY, fZ){ const f0=1+fZ-fY;return f0<=0?[]:bD(f0, (f1) => f1+fY);}
let k=fP((fY) => class fZ { static { k=fY(this);} Equals(f0){ return this===f0;} GetHashCode(){ return -1;} });
let l=fP((fY) => class fZ extends k { static { l=fY(this);} doc;allVars;anchorRoot;get Doc(){ return this.doc;} SetAnchorRoot(f0){ this.anchorRoot=f0;} constructor(f0, f1){ super();this.doc=f1;this.allVars=f0.$==0?f0.$0:h("Should not happen");this.anchorRoot=null;} });
function m(fY, fZ){ o(fY, fZ);return fY[fZ];}
function n(fY, fZ, f0){ o(fY, fZ);fY[fZ]=f0;}
function o(fY, fZ){ if(fZ<0||fZ>=fY.length)h("Index was outside the bounds of the array.");}
function p(fY){ return fY.dims===2?fY.length*fY.length:fY.length;}
let q=fP((fY) => class fZ extends k { static { q=fY(this);} i;k;h;s;static New_1(){ return new this("New_1");} constructor(f0){ if(f0=="New_1"){ let f1;super();this.i=null;this.k=(f1=K(),String(f1));this.h=fQ([]);fR(this, "s", null);} } });
let r=fP((fY) => class fZ extends k { static { r=fY(this);} ForTextView(){ console.warn("Content hole filled with attribute data", this.Name);return null;} AddAttribute(f0, f1){ console.warn("Var hole filled with non-Var data", this.Name);} get AsChoiceView(){ console.warn("Attribute value hole filled with non-text data", this.Name);return em("");} });
let s=fP((fY) => class fZ extends k { static { s=fY(this);} });
function t(fY, fZ, f0, f1){ return new L(fZ, (f2) =>(f3) => { const f4=f0();f4.SetAnchorRoot(f2);return f1({Vars:f4, Anchors:f4, Target:f2, Event:f3});});}
function u(fY, fZ, f0){ const f1=new bm("New_5");const f2=new bt("New_3");const f3=cB(fZ);try { while(f3.MoveNext()){ const f4=f3.Current;const f5=f4.Name;f2.SAdd(f5);f1.set_Item(f5, f4);} } finally { if(typeof f3=="object"&&a(f3))f3.Dispose();} return[bu(fZ, bJ((f6) => { const f7=f6[0];const f8=f6[1];const f9=f6[2];if(f2.Contains(f7))return null;else { const f_=f8===0?bY.GetOrAddHoleFor(fY, f7, () => { const f$=f9==null?null:u0033(f9.$0);let ga=bn.Create_1(f$==null?"":f$.$0);return new bZ(f7, ga);}):f8===1?bY.GetOrAddHoleFor(fY, f7, () => { const f$=f9==null?null:u0033(f9.$0);let ga=bn.Create_1(f$==null?0:f$.$0);return new b0(f7, ga);}):f8===2?bY.GetOrAddHoleFor(fY, f7, () => { const f$=f9==null?null:u0033(f9.$0);let ga=bn.Create_1(f$==null?false:f$.$0);return new b1(f7, ga);}):f8===3?bY.GetOrAddHoleFor(fY, f7, () => { const f$=f9==null?null:u0033(f9.$0);let ga=bn.Create_1(f$==null?-8640000000000000:f$.$0);return new b2(f7, ga);}):f8===4?bY.GetOrAddHoleFor(fY, f7, () => new b3(f7, bn.Create_1([]))):f8===5?bY.GetOrAddHoleFor(fY, f7, () => new b4(f7, bn.Create_1(u0033(globalThis.document.querySelector("[ws-dom="+f7+"]"))))):f8===6?bY.GetOrAddHoleFor(fY, f7, () => { const f$=f9==null?null:u0033(f9.$0);let ga=bn.Create_1(f$==null?[]:f$.$0);return new b5(f7, ga);}):h("Invalid value type");f1.set_Item(f7, f_);return u0033(f_);} }, f0)), {$:0, $0:f1}];}
function v(fY, fZ){ if(fY===fZ)return true;else { const f0=typeof fY;if(f0=="object"){ if(fY===null||fY===void 0||fZ===null||fZ===void 0||!v(typeof fZ, "object"))return false;else if("Equals"in fY)return fY.Equals(fZ);else if("Equals"in fZ)return false;else if(fY instanceof Array&&fZ instanceof Array)return w(fY, fZ);else if(fY instanceof Date&&fZ instanceof Date)return x(fY, fZ);else { const f1=[true];let f2;for(var f4 in fY)if(((f5) => { f1[0]=!fY.hasOwnProperty(f5)||fZ.hasOwnProperty(f5)&&v(fY[f5], fZ[f5]);return!f1[0];})(f4))break;if(f1[0]){ let f3;for(var f5 in fZ)if(((f6) => { f1[0]=!fZ.hasOwnProperty(f6)||fY.hasOwnProperty(f6);return!f1[0];})(f5))break;} return f1[0];} } else return f0=="function"&&("$Func"in fY?fY.$Func===fZ.$Func&&fY.$Target===fZ.$Target:"$Invokes"in fY&&"$Invokes"in fZ&&w(fY.$Invokes, fZ.$Invokes));} }
function w(fY, fZ){ let f0;let f1;if(p(fY)===p(fZ)){ f0=true;f1=0;while(f0&&f1<p(fY)){!v(m(fY, f1), m(fZ, f1))?f0=false:void 0;f1=f1+1;} return f0;} else return false;}
function x(fY, fZ){ return fY.getTime()===fZ.getTime();}
function y(fY){ const fZ=typeof fY;return fZ=="function"?0:fZ=="boolean"?fY?1:0:fZ=="number"?fY:fZ=="string"?z(fY):fZ=="object"?fY==null?0:fY instanceof Array?A(fY):B(fY):0;}
function z(fY){ let fZ;if(fY===null)return 0;else { fZ=5381;for(let f0=0, f1=fY.length-1;f0<=f1;f0++)fZ=C(fZ, fY[f0].charCodeAt());return fZ;} }
function A(fY){ let fZ=-34948909;for(let f0=0, f1=p(fY)-1;f0<=f1;f0++)fZ=C(fZ, y(m(fY, f0)));return fZ;}
function B(fY){ if("GetHashCode"in fY)return fY.GetHashCode();else { const fZ=[0];let f0;for(var f1 in fY)if(((f2) => { fZ[0]=C(C(fZ[0], z(f2)), y(fY[f2]));return false;})(f1))break;return fZ[0];} }
function C(fY, fZ){ return(fY<<5)+fY+fZ;}
function D(fY, fZ){ if(fY===fZ)return 0;else { const f0=typeof fY;switch(f0=="function"?1:f0=="boolean"?2:f0=="number"?2:f0=="string"?2:f0=="object"?3:0){ case 0:return typeof fZ=="undefined"?0:-1;case 1:return h("Cannot compare function values.");case 2:return fY<fZ?-1:1;case 3:if(fY===null)return -1;else if(fZ===null)return 1;else if("CompareTo"in fY)return fY.CompareTo(fZ);else if("CompareTo0"in fY)return fY.CompareTo0(fZ);else if(fY instanceof Array&&fZ instanceof Array)return E(fY, fZ);else if(fY instanceof Date&&fZ instanceof Date)return F(fY, fZ);else { const f1=[0];let f2;for(var f4 in fY)if(((f5) =>!fY.hasOwnProperty(f5)?false:!fZ.hasOwnProperty(f5)?(f1[0]=1,true):(f1[0]=D(fY[f5], fZ[f5]),f1[0]!==0))(f4))break;if(f1[0]===0){ let f3;for(var f5 in fZ)if(((f6) =>!fZ.hasOwnProperty(f6)?false:!fY.hasOwnProperty(f6)&&(f1[0]=-1,true))(f5))break;} return f1[0];} break;} } }
function E(fY, fZ){ let f0;let f1;if(p(fY)<p(fZ))return -1;else if(p(fY)>p(fZ))return 1;else { f0=0;f1=0;while(f0===0&&f1<p(fY)){ f0=D(m(fY, f1), m(fZ, f1));f1=f1+1;} return f0;} }
function F(fY, fZ){ return D(fY.getTime(), fZ.getTime());}
function G(fY){ u0034("index");return fY?u0035("index", u0033("main"), fY):void 0;}
let H=fP((fY) => { fS(r);return class fZ extends r { static { H=fY(this);} name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} get AsChoiceView(){ return em(this.fillWith);} constructor(f0, f1){ super();this.name=f0;this.fillWith=f1;} };});
let I=fP((fY) => { fS(r);return class fZ extends r { static { I=fY(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0033(this.fillWith);} get AsChoiceView(){ return en(this.fillWith);} constructor(f0, f1){ super();this.name=f0;this.fillWith=f1;} };});
let J=fP((fY) => class fZ { static { J=fY(this);} static usb;static device;static statusMessage;static { this.statusMessage=bn.Create_1("Waiting for connection...");this.device=bn.Create_1(void 0);this.usb=globalThis.navigator.usb;} });
function K(){ return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]", "g"), (fY) => { const fZ=Math.random()*16|0;const f0=fY=="x"?fZ:fZ&3|8;return f0.toString(16);});}
let L=fP((fY) => { fS(r);return class fZ extends r { static { L=fY(this);} name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(f0, f1){ super();this.name=f0;this.fillWith=f1;} };});
function M(fY){ const fZ={};const f0=cB(fY);try { while(f0.MoveNext()){ const f1=f0.Current;fZ[f1[0]]=f1[1];} } finally { if(typeof f0=="object"&&a(f0))f0.Dispose();} return fZ;}
function N(fY){ return(fZ) => { try {(fY())(fZ);} catch(f0){ fZ.k(bp(f0));} };}
function O(fY, fZ){ return R((f0) => { fY(bo((f1) => { if(f1.$==0){ const f2=f1.$0;V().Fork(() => { try {(fZ(f2))(f0);} catch(f3){ f0.k(bp(f3));} });} else V().Fork(() => { f0.k(f1);});}, f0.ct));});}
function P(fY){ return(fZ) => { fZ.k(bq(fY));};}
function Q(fY, fZ){ const f0=(S())[0];const f1=fZ==null?f0:fZ.$0;if(!f1.c)fY(bo((f2) => { if(f2.$==1)T(f2.$0);}, f1));}
function R(fY){ return(fZ) => { if(fZ.ct.c)U(fZ);else fY(fZ);};}
function S(){ return cz.defCTS;}
function T(fY){ console.log("WebSharper: Uncaught asynchronous exception", fY);}
function U(fY){ fY.k(br(new c8("New", fY.ct)));}
function V(){ return cz.scheduler;}
function W(fY){ return(fZ) => { const f0=[false];const f1=(f2) => { if(f0[0])h("A continuation provided by Async.FromContinuations was invoked multiple times");else { f0[0]=true;V().Fork(f2);} };fY((f2) => { f1(() => { fZ.k(bq(f2));});}, (f2) => { f1(() => { fZ.k(bp(f2));});}, (f2) => { f1(() => { fZ.k(br(f2));});});};}
function X(){ return cz.Zero;}
function Y(fY, fZ){ const f0=(S())[0];const f1=fZ==null?f0:fZ.$0;V().Fork(() => { if(!f1.c)fY(bo((f2) => { if(f2.$==1)T(f2.$0);}, f1));});}
function Z(fY){ return W((fZ, f0) => { fY.then(fZ, (f1) => f0(u0030(f1)));});}
function u0030(fY){ return fY instanceof Error?fY:new cy(fY);}
let u0031=fP((fY) => class fZ extends k { static { u0031=fY(this);} });
function u0032(fY){ let fZ=[];let f0;for(var f1 in fY)fZ.push(fY[f1]);return fZ;}
function u0033(fY){ return{$:1, $0:fY};}
function u0034(fY){!u0036()?(u0037(true),u0038(globalThis.document.body, "")):void 0;u0039().set_Item(fY, $(""));}
function u0035(fY, fZ, f0){ let f1;const f2=(f1=null,[$(fY).TryGetValue(fZ==null?"":fZ.$0, {get:() => f1, set:(f3) => { f1=f3;}}), f1]);return f2[0]?ba(f2[1].cloneNode(true), f0):(console.warn("Local template doesn't exist", fZ),bl.Empty);}
function u0036(){ return cG.LocalTemplatesLoaded;}
function u0037(fY){ cG.LocalTemplatesLoaded=fY;}
function u0038(fY, fZ){ const f0=$(fZ);const f1=new bm("New_5");const f2=fY.querySelectorAll("[ws-template]");for(let gc=0, gd=f2.length-1;gc<=gd;gc++){ const f3=f2[gc];const f4=f3.getAttribute("ws-template").toLowerCase();f3.removeAttribute("ws-template");f1.set_Item(f4, bb(f3));} const f5=fY.querySelectorAll("[ws-children-template]");for(let ge=0, gf=f5.length-1;ge<=gf;ge++){ const f6=f5[ge];const f7=f6.getAttribute("ws-children-template").toLowerCase();f6.removeAttribute("ws-children-template");f1.set_Item(f7, bc(f6));} const f8=fY.querySelectorAll("template[id]");for(let gg=0, gh=f8.length-1;gg<=gh;gg++){ const f9=f8[gg];f1.set_Item(f9.getAttribute("id").toLowerCase(), bd(f9));} const f_=fY.querySelectorAll("template[name]");for(let gi=0, gj=f_.length-1;gi<=gj;gi++){ const f$=f_[gi];f1.set_Item(f$.getAttribute("name").toLowerCase(), bd(f$));} const ga=new bt("New_3");function gb(gk){ if(!f0.ContainsKey(gk)){ let gl;const gm=(gl=null,[f1.TryGetValue(gk, {get:() => gl, set:(gn) => { gl=gn;}}), gl]);if(gm[0]){ ga.SAdd(gk);f1.RemoveKey(gk);be(fZ, u0033(gk), gm[1], u0033(gb));} else console.warn(ga.Contains(gk)?"Encountered loop when instantiating "+gk:"Local template does not exist: "+gk);} } while(f1.count>0)gb(bv(f1.Keys));}
function u0039(){ return cG.LoadedTemplates;}
function $(fY){ let fZ;const f0=(fZ=null,[u0039().TryGetValue(fY, {get:() => fZ, set:(f2) => { fZ=f2;}}), fZ]);if(f0[0])return f0[1];else { const f1=new bm("New_5");u0039().set_Item(fY, f1);return f1;} }
function ba(fY, fZ){ let f0;const f1=bf(fY, bu(fZ, bg().Values));const f2=f1[1];const f3=f1[0];const f4=f3.Els;return!v(f4, null)&&f4.length===1&&(m(f4, 0)instanceof Node&&(v(m(f4, 0).nodeType, Node.ELEMENT_NODE)&&(f0=m(f4, 0),true)))?c_.TreeNode(f3, f2):bl.Mk(b6(f3), f2);}
function bb(fY){ fY.removeAttribute("ws-template");const fZ=fY.getAttribute("ws-replace");if(fZ==null){ } else { fY.removeAttribute("ws-replace");const f0=fY.parentNode;if(v(f0, null)){ } else { const f1=globalThis.document.createElement(fY.tagName);f1.setAttribute("ws-replace", fZ);f0.replaceChild(f1, fY);} } const f2=globalThis.document.createElement("div");f2.appendChild(fY);return f2;}
function bc(fY){ const fZ=globalThis.document.createElement("div");while(fY.hasChildNodes())fZ.appendChild(fY.firstChild);return fZ;}
function bd(fY){ const fZ=globalThis.document.createElement("div");const f0=fY.content;for(let f1=0, f2=f0.childNodes.length-1;f1<=f2;f1++)fZ.appendChild(f0.childNodes[f1].cloneNode(true));return fZ;}
function be(fY, fZ, f0, f1){ const f2=new bt("New_3");function f3(f_, f$){ while(true)switch(f_){ case 0:if(f$!==null){ const ga=f$.nextSibling;if(v(f$.nodeType, Node.TEXT_NODE))dh(f$);else if(v(f$.nodeType, Node.ELEMENT_NODE))f5(f$);f$=ga;} else return null;break;case 1:const gb=dp(f$.nodeName, u0033(3), null).toLowerCase();const gc=gb.indexOf(".");const gd=gc===-1?[fY, gb]:[dp(gb, null, u0033(gc-1)), dp(gb, u0033(gc+1), null)];const ge=gd[1];const gf=gd[0];if(gf!=""&&!u0039().ContainsKey(gf))return di(ge);else { if(gf==""&&f1!=null)f1.$0(ge);const gg=u0039().Item(gf);if(!gg.ContainsKey(ge))return di(ge);else { const gh=gg.Item(ge);const gi=gh.cloneNode(true);const gj=new bt("New_3");const gk=new bm("New_5");const gl=f$.attributes;for(let gv=0, gw=gl.length-1;gv<=gw;gv++){ const gm=gl.item(gv).name.toLowerCase();const gn=gl.item(gv).nodeValue;let go=gn==""?gm:gn.toLowerCase();gk.set_Item(gm, go);if(!gj.SAdd(gm))console.warn("Hole mapped twice", gm);} for(let gx=0, gy=f$.childNodes.length-1;gx<=gy;gx++){ const gp=f$.childNodes[gx];if(v(gp.nodeType, Node.ELEMENT_NODE))if(!gj.SAdd(gp.nodeName.toLowerCase()))console.warn("Hole filled twice", ge);} const gq=f$.childNodes.length===1&&v(f$.firstChild.nodeType, Node.TEXT_NODE);if(gq){ const gr=dj(gi, f$.firstChild.textContent, ge);const gs=((gz) =>(gA) => gz.SAdd(gA))(gj);let gt=((gz) =>(gA) => { if(gA!=null)gz(gA.$0);})((gz) => { gs(gz);});gt(gr);} dk(gi, gj);if(!gq){ for(let gz=0, gA=f$.childNodes.length-1;gz<=gA;gz++){ const gu=f$.childNodes[gz];if(v(gu.nodeType, Node.ELEMENT_NODE))if(gu.hasAttributes())dl(gi, gu);else f4(gi, gu);} } dm(gi, gk);dn(gi, f$.parentNode, f$);f$.parentNode.removeChild(f$);return;} } break;} } function f4(f_, f$){ const ga=f$.nodeName.toLowerCase();const gb=(gf, gg) => { if(ga=="title"&&f$.hasChildNodes()){ const gh=dq(f$.textContent);f$.removeChild(f$.firstChild);while(gh.hasChildNodes())f$.appendChild(gh.firstChild);} f5(f$);return dn(f$, gf, gg);};bh(f_, "[ws-attr-holes]", (gf) => { const gg=eq(gf.getAttribute("ws-attr-holes"), [" "], 1);for(let gk=0, gl=gg.length-1;gk<=gl;gk++){ const gh=m(gg, gk);let gi=new RegExp("\\${"+ga+"}", "ig");let gj=gf.getAttribute(gh).replace(gi, f$.textContent);gf.setAttribute(gh, gj);} });const gc=f_.querySelector("[ws-hole="+ga+"]");if(v(gc, null)){ const gd=f_.querySelector("[ws-replace="+ga+"]");if(v(gd, null)){ const ge=f_.querySelector("slot[name="+ga+"]");return f_.tagName.toLowerCase()=="template"?(gb(ge.parentNode, ge),void ge.parentNode.removeChild(ge)):null;} else { gb(gd.parentNode, gd);gd.parentNode.removeChild(gd);return;} } else { while(gc.hasChildNodes())gc.removeChild(gc.lastChild);gc.removeAttribute("ws-hole");return gb(gc, null);} } function f5(f_){ if(!f_.hasAttribute("ws-preserve"))if(er(f_.nodeName.toLowerCase(), "ws-"))f7(f_);else { do_1(f_);f6(f_.firstChild);} } function f6(f_){ return f3(0, f_);} function f7(f_){ return f3(1, f_);} function f8(f_){ while(true){ const f$=f_.querySelector("[ws-template]");if(v(f$, null)){ const ga=f_.querySelector("[ws-children-template]");if(v(ga, null)){ const gb=f_.querySelectorAll("template[id]");for(let gh=1, gi=gb.length-1;gh<=gi;gh++){ const gc=gb[gh];if(f2.Contains(gc)){ } else { be(fY, u0033(gc.getAttribute("id")), gc, null);f2.SAdd(gc);} } const gd=f_.querySelectorAll("template[name]");for(let gj=1, gk=gd.length-1;gj<=gk;gj++){ const ge=gd[gj];if(f2.Contains(ge)){ } else { be(fY, u0033(ge.getAttribute("name")), ge, null);f2.SAdd(ge);} } return null;} else { const gf=ga.getAttribute("ws-children-template");ga.removeAttribute("ws-children-template");be(fY, u0033(gf), ga, null);f_=f_;} } else { const gg=f$.getAttribute("ws-template");(bi(fY, u0033(gg), f$))(null);f_=f_;} } } const f9=(fZ==null?"":fZ.$0).toLowerCase();$(fY).set_Item(f9, f0);if(f0.hasChildNodes()){ f8(f0);f6(f0.firstChild);} }
function bf(fY, fZ){ let f0;const f1=[];const f2=[];const f3=[];const f4=[];const f5=new bm("New_5");const f6=cB(fZ);try { while(f6.MoveNext()){ const f7=f6.Current;f5.set_Item(f7.Name, f7);} } finally { if(typeof f6=="object"&&a(f6))f6.Dispose();} let f8=dr(fY);const f9=(gg, gh) => { const gi=dQ(gg, gh);f2.push(dR(gi));f3.push([gg, gi]);const gj=fT(gi.OnAfterRender);if(gj==null)return null;else { const gk=gj.$0;f4.push(() => { gk(gg);});return;} };const f_=(gg) => { let gh;const gi=(gh=null,[f5.TryGetValue(gg, {get:() => gh, set:(gl) => { gh=gl;}}), gh]);if(gi[0]){ const gj=gi[1];if(gj instanceof d7)return u0033(gj.Value);else if(gj instanceof H)return u0033(bl.TextNode(gj.Value));else { const gk=gj.ForTextView();return gk==null?null:u0033(bl.TextView(gk.$0));} } else return null;};bh(fY, "[ws-hole]", (gg) => { const gh=gg.getAttribute("ws-hole");gg.removeAttribute("ws-hole");while(gg.hasChildNodes())gg.removeChild(gg.lastChild);const gi=f_(gh);if(gi!=null&&gi.$==1){ const gj=gi.$0;cH(gg, gj.docNode);f1.push(c1.New(dS(gg), gj.docNode, null, gg, c2(), null));f2.push(gj.updates);} });bh(fY, "[ws-replace]", (gg) => { const gh=f_(gg.getAttribute("ws-replace"));if(gh!=null&&gh.$==1){ const gi=gh.$0;const gj=gg.parentNode;const gk=globalThis.document.createTextNode("");gj.replaceChild(gk, gg);const gl=cM(gk, gi.docNode);f8=dr(fY);const gm=bK((gn) => gg===gn, f8);if(gm==null){ } else n(f8, gm.$0, gi.docNode);f1.push(c1.New(dS(gj), gi.docNode, u0033([gl, gk]), gj, c2(), null));f2.push(gi.updates);} });let f$=false;bh(fY, "slot", (gg) => { const gh=gg.getAttribute("name");const gi=gh==""||gh==null?"default":gh.toLowerCase();if(f$&&gi=="default"||!v(fY.parentElement, null)){ } else { while(gg.hasChildNodes())gg.removeChild(gg.lastChild);if(gi=="default")f$=true;const gj=f_(gi);if(gj!=null&&gj.$==1){ const gk=gj.$0;cH(gg, gk.docNode);f1.push(c1.New(dS(gg), gk.docNode, null, gg, c2(), null));f2.push(gk.updates);} } });bh(fY, "[ws-attr]", (gg) => { let gh;const gi=gg.getAttribute("ws-attr");gg.removeAttribute("ws-attr");const gj=(gh=null,[f5.TryGetValue(gi, {get:() => gh, set:(gl) => { gh=gl;}}), gh]);if(gj[0]){ const gk=gj[1];if(gk instanceof d8)f9(gg, gk.Value);else console.warn("Attribute hole filled with non-attribute data", gi);} });bh(fY, "[ws-on]", (gg) => { f9(gg, ej.Concat(bJ((gh) => { let gi;const gj=eq(gh, [":"], 1);const gk=(gi=null,[f5.TryGetValue(m(gj, 1), {get:() => gi, set:(gm) => { gi=gm;}}), gi]);if(gk[0]){ const gl=gk[1];return gl instanceof d9?u0033(d_(m(gj, 0), gl.Value)):gl instanceof L?u0033(ej.Handler(m(gj, 0), gl.Value)):(console.warn("Event hole on"+m(gj, 0)+" filled with non-event data", m(gj, 1)),null);} else return null;}, eq(gg.getAttribute("ws-on"), [" "], 1))));gg.removeAttribute("ws-on");});bh(fY, "[ws-onafterrender]", (gg) => { let gh;const gi=gg.getAttribute("ws-onafterrender");const gj=(gh=null,[f5.TryGetValue(gi, {get:() => gh, set:(gl) => { gh=gl;}}), gh]);if(gj[0]){ const gk=gj[1];if(gk instanceof ek){ gg.removeAttribute("ws-onafterrender");f9(gg, d$(gk.Value));} else if(gk instanceof el){ gg.removeAttribute("ws-onafterrender");f9(gg, d$(gk.Value));} else console.warn("onafterrender hole filled with non-onafterrender data", gi);} });bh(fY, "[ws-var]", (gg) => { let gh;const gi=gg.getAttribute("ws-var");gg.removeAttribute("ws-var");const gj=(gh=null,[f5.TryGetValue(gi, {get:() => gh, set:(gk) => { gh=gk;}}), gh]);if(gj[0])gj[1].AddAttribute((gk) =>(gl) => f9(gk, gl), gg);});const ga=() => { bj("[ws-dom]", (gg) => { let gh;let gi;let gj;const gk=(gh=null,[f5.TryGetValue(gg.getAttribute("ws-dom").toLowerCase(), {get:() => gh, set:(go) => { gh=go;}}), gh]);if(gk[0]){ const gl=gk[1];if(gl instanceof b4){ const gm=gl.Value;gg.removeAttribute("ws-dom");gi=gg;const gn=new MutationObserver((go, gp) => { bO((gq) => { gq.removedNodes.forEach(fU((gr) => gr[0]===gi&&gq.addedNodes.length!==1?(gm.SetFinal(null),gp.disconnect()):null), null);}, go);});if(gg.parentElement!==null)gn.observe(gg.parentElement, (gj={},gj.childList=true,gj));gm.Set(u0033(gg));da((go) => { if(go!=null&&go.$==1){ const gp=go.$0;if(gi===gp){ } else { gi.replaceWith(gp);gi=gp;} } else { gi.remove();gn.disconnect();} }, gm.View);} } });};bh(fY, "[ws-attr-holes]", (gg) => { const gh=new RegExp(bk(), "g");const gi=eq(gg.getAttribute("ws-attr-holes"), [" "], 1);gg.removeAttribute("ws-attr-holes");for(let gj=0, gk=gi.length-1;gj<=gk;gj++)((() => { let gl;const gm=m(gi, gj);const gn=gg.getAttribute(gm);let go=null;let gp=0;const gq=[];while(go=gh.exec(gn),go!==null){ const gr=dp(gn, u0033(gp), u0033(gh.lastIndex-m(go, 0).length-1));gp=gh.lastIndex;gq.push([gr, m(go, 1)]);} const gs=dp(gn, u0033(gp), null);gh.lastIndex=0;const gt=bP((gy, gz) =>(((gA) => { const gB=gA[0];const gC=gA[1];return(gD) => { let gE;const gF=gD[0];const gG=gD[1];const gH=(gE=null,[f5.TryGetValue(gC, {get:() => gE, set:(gJ) => { gE=gJ;}}), gE]);const gI=gH[0]?gH[1].AsChoiceView:em("");return gI.$==1?[gB, eo.Cons(gF==""?gI.$0:db((gJ) => gJ+gF, gI.$0), gG)]:[gB+gI.$0+gF, gG];};})(gy))(gz), gq, [gs, eo.Empty]);if(gt[1].$==1){ if(gt[1].$1.$==1){ if(gt[1].$1.$1.$==1){ if(gt[1].$1.$1.$1.$==0){ const gu=gt[0];gl=ea(gm, dc((gy, gz, gA) => gu+gy+gz+gA, gt[1].$0, gt[1].$1.$0, gt[1].$1.$1.$0));} else { const gv=gt[0];gl=ea(gm, db((gy) => gv+ep("", gy), dd(gt[1])));} } else { const gw=gt[0];gl=ea(gm, de((gy, gz) => gw+gy+gz, gt[1].$0, gt[1].$1.$0));} } else if(gt[0]=="")gl=ea(gm, gt[1].$0);else { const gx=gt[0];gl=ea(gm, db((gy) => gx+gy, gt[1].$0));} } else gl=ej.Create(gm, gt[0]);return f9(gg, gl);})());});let gb=f8;const gc=f4.length==0?u0033(() => { ga();}):u0033((gg) => { ga();bO((gh) => { gh(gg);}, f4);});const gd=!v(f8, null)&&f8.length===1&&(m(f8, 0)instanceof Node&&(m(f8, 0)instanceof Element&&(f0=m(f8, 0),true)))?u0033(f0):null;let ge={Els:gb, Dirty:true, Holes:f1, Attrs:f3, Render:gc?gc.$0:void 0, El:gd?gd.$0:void 0};let gf=fV(ge, ["Render", "El"]);return[gf, ex(c$(), df, f2)];}
function bg(){ return cG.GlobalHoles;}
function bh(fY, fZ, f0){ dx(fY, fZ, (f1) => { if(f1.closest("[ws-preserve]")==null)f0(f1);});}
function bi(fY, fZ, f0){ const f1=bb(f0);return(f2) => { be(fY, fZ, f1, f2);};}
function bj(fY, fZ){ dy(fY, (f0) => { if(f0.closest("[ws-preserve]")==null)fZ(f0);});}
function bk(){ return cG.TextHoleRE;}
let bl=fP((fY) => class fZ extends k { static { bl=fY(this);} docNode;updates;static RunById(f0, f1){ const f2=globalThis.document.getElementById(f0);if(v(f2, null))h("invalid id: "+f0);else bl.Run(f2, f1);} static Run(f0, f1){ cH(f0, f1.docNode);bl.RunInPlace(false, f0, f1);} static get Empty(){ return bl.Mk(null, c$());} static RunInPlace(f0, f1, f2){ const f3=cJ(f1, f2.docNode);da(dF()||dM()?dN(cK(f0, f3, f2.docNode)):() => { cL(f0, f3, f2.docNode);}, f2.updates);} static Mk(f0, f1){ return new fZ(f0, f1);} static TextNode(f0){ return bl.Mk(b7(globalThis.document.createTextNode(f0)), c$());} static TextView(f0){ const f1=cU();return bl.Mk(b8(f1), db((f2) => { cV(f1, f2);}, f0));} constructor(f0, f1){ super();this.docNode=f0;this.updates=f1;} });
let bm=fP((fY) => class fZ extends k { static { bm=fY(this);} equals;hash;count;data;set_Item(f0, f1){ this.set(f0, f1);} set(f0, f1){ const f2=this.hash(f0);const f3=this.data[f2];if(f3==null){ this.count=this.count+1;this.data[f2]=new Array({K:f0, V:f1});} else { const f4=bK((f5) => this.equals.apply(null, [(i(f5))[0], f0]), f3);if(f4==null){ this.count=this.count+1;f3.push({K:f0, V:f1});} else f3[f4.$0]={K:f0, V:f1};} } TryGetValue(f0, f1){ const f2=this.data[this.hash(f0)];if(f2==null)return false;else { const f3=bL((f4) => { const f5=i(f4);return this.equals.apply(null, [f5[0], f0])?u0033(f5[1]):null;}, f2);return f3!=null&&f3.$==1&&(f1.set(f3.$0),true);} } ContainsKey(f0){ const f1=this.data[this.hash(f0)];return f1==null?false:bM((f2) => this.equals.apply(null, [(i(f2))[0], f0]), f1);} RemoveKey(f0){ return this.remove(f0);} get Keys(){ return new dE(this);} GetEnumerator(){ return cE(bN(u0032(this.data)));} get Values(){ return new eB(this);} remove(f0){ const f1=this.hash(f0);const f2=this.data[f1];if(f2==null)return false;else { const f3=bR((f4) =>!this.equals.apply(null, [(i(f4))[0], f0]), f2);return p(f3)<f2.length&&(this.count=this.count-1,this.data[f1]=f3,true);} } Item(f0){ return this.get(f0);} get(f0){ const f1=this.data[this.hash(f0)];return f1==null?cA():bT((f2) => { const f3=i(f2);return this.equals.apply(null, [f3[0], f0])?u0033(f3[1]):null;}, f1);} static New_5(){ return new this("New_5");} static New_6(f0, f1, f2){ return new this("New_6", f0, f1, f2);} constructor(f0, f1, f2, f3){ if(f0=="New_5"){ f0="New_6";f1=[];f2=v;f3=y;} if(f0=="New_6"){ const f4=f1;const f5=f2;const f6=f3;super();this.equals=f5;this.hash=f6;this.count=0;this.data=[];const f7=cB(f4);try { while(f7.MoveNext()){ const f8=f7.Current;this.set(f8.K, f8.V);} } finally { if(typeof f7=="object"&&a(f7))f7.Dispose();} } } });
let bn=fP((fY) => class fZ extends k { static { bn=fY(this);} static Create_1(f0){ return new b$(false, {s:c5(f0, [])}, f0);} static { } });
function bo(fY, fZ){ return{k:fY, ct:fZ};}
function bp(fY){ return{$:1, $0:fY};}
function bq(fY){ return{$:0, $0:fY};}
function br(fY){ return{$:2, $0:fY};}
function bs(fY, fZ){ return{c:fY, r:fZ};}
let bt=fP((fY) => class fZ extends k { static { bt=fY(this);} equals;hash;data;count;SAdd(f0){ return this.add(f0);} Contains(f0){ const f1=this.data[this.hash(f0)];return f1==null?false:this.arrContains(f0, f1);} add(f0){ const f1=this.hash(f0);const f2=this.data[f1];return f2==null?(this.data[f1]=[f0],this.count=this.count+1,true):this.arrContains(f0, f2)?false:(f2.push(f0),this.count=this.count+1,true);} arrContains(f0, f1){ let f2=true;let f3=0;const f4=f1.length;while(f2&&f3<f4)if(this.equals.apply(null, [f1[f3], f0]))f2=false;else f3=f3+1;return!f2;} GetEnumerator(){ return cB(eT(this.data));} ExceptWith(f0){ const f1=cB(f0);try { while(f1.MoveNext())this.Remove(f1.Current);} finally { if(typeof f1=="object"&&a(f1))f1.Dispose();} } get Count(){ return this.count;} IntersectWith(f0){ const f1=new bt("New_4", f0, this.equals, this.hash);const f2=eT(this.data);for(let f4=0, f5=f2.length-1;f4<=f5;f4++){ const f3=f2[f4];if(!f1.Contains(f3))this.Remove(f3);} } Remove(f0){ const f1=this.data[this.hash(f0)];return f1==null?false:this.arrRemove(f0, f1)&&(this.count=this.count-1,true);} CopyTo(f0, f1){ const f2=eT(this.data);for(let f3=0, f4=f2.length-1;f3<=f4;f3++)n(f0, f3+f1, f2[f3]);} arrRemove(f0, f1){ let f2=true;let f3=0;const f4=f1.length;while(f2&&f3<f4)if(this.equals.apply(null, [f1[f3], f0])){ f1.splice(f3, 1);f2=false;} else f3=f3+1;return!f2;} static New_3(){ return new this("New_3");} static New_4(f0, f1, f2){ return new this("New_4", f0, f1, f2);} static New_2(f0){ return new this("New_2", f0);} constructor(f0, f1, f2, f3){ if(f0=="New_3"){ f0="New_4";f1=[];f2=v;f3=y;} let f4;if(f0=="New_2"){ f4=f1;f0="New_4";f1=f4;f2=v;f3=y;} if(f0=="New_4"){ const f5=f1;const f6=f2;const f7=f3;super();this.equals=f6;this.hash=f7;this.data=[];this.count=0;const f8=cB(f5);try { while(f8.MoveNext())this.add(f8.Current);} finally { if(typeof f8=="object"&&a(f8))f8.Dispose();} } } });
function bu(fY, fZ){ return{GetEnumerator:() => { const f0=cB(fY);const f1=[true];return new cF(f0, null, (f2) => { if(f2.s.MoveNext()){ f2.c=f2.s.Current;return true;} else { const f3=f2.s;if(!v(f3, null))f3.Dispose();f2.s=null;return f1[0]&&(f1[0]=false,f2.s=cB(fZ),f2.s.MoveNext()?(f2.c=f2.s.Current,true):(f2.s.Dispose(),f2.s=null,false));} }, (f2) => { const f3=f2.s;if(!v(f3, null))f3.Dispose();});}};}
function bv(fY){ const fZ=cB(fY);try { return fZ.MoveNext()?fZ.Current:dB();} finally { if(typeof fZ=="object"&&a(fZ))fZ.Dispose();} }
function bw(fY, fZ, f0){ let f1=fZ;const f2=cB(f0);try { while(f2.MoveNext())f1=fY(f1, f2.Current);return f1;} finally { if(typeof f2=="object"&&a(f2))f2.Dispose();} }
function bx(fY, fZ){ const f0=cB(fZ);try { while(f0.MoveNext())fY(f0.Current);} finally { if(typeof f0=="object"&&a(f0))f0.Dispose();} }
function by(fY, fZ){ return{GetEnumerator:() => { const f0=cB(fZ);return new cF(null, null, (f1) => f0.MoveNext()&&(f1.c=fY(f0.Current),true), () => { f0.Dispose();});}};}
function bz(fY){ return{GetEnumerator:() => cB(fY())};}
function bA(fY, fZ){ return bC(by(fY, fZ));}
function bB(fY){ const fZ=cB(fY);try { if(!fZ.MoveNext())bE();let f0=fZ.Current;while(fZ.MoveNext()){ const f1=fZ.Current;if(D(f1, f0)===1)f0=f1;} return f0;} finally { if(typeof fZ=="object"&&a(fZ))fZ.Dispose();} }
function bC(fY){ return{GetEnumerator:() => { const fZ=cB(fY);function f0(f1){ while(true){ const f2=f1.s;if(v(f2, null)){ if(fZ.MoveNext()){ f1.s=cB(fZ.Current);f1=f1;} else { fZ.Dispose();return false;} } else if(f2.MoveNext()){ f1.c=f2.Current;return true;} else { f1.Dispose();f1.s=null;f1=f1;} } } return new cF(null, null, f0, (f1) => { const f2=f1.s;if(!v(f2, null))f2.Dispose();if(!v(fZ, null))fZ.Dispose();});}};}
function bD(fY, fZ){ return bF(fY, bG(fZ));}
function bE(){ return h("The input sequence was empty.");}
function bF(fY, fZ){ fY<0?dD():void 0;return{GetEnumerator:() => { const f0=[cB(fZ)];return new cF(0, null, (f1) => { f1.s=f1.s+1;if(f1.s>fY)return false;else { const f2=f0[0];return v(f2, null)?dB():f2.MoveNext()?(f1.c=f2.Current,f1.s===fY?(f2.Dispose(),f0[0]=null):void 0,true):(f2.Dispose(),f0[0]=null,dB());} }, () => { const f1=f0[0];if(!v(f1, null))f1.Dispose();});}};}
function bG(fY){ return{GetEnumerator:() => new cF(0, null, (fZ) => { fZ.c=fY(fZ.s);fZ.s=fZ.s+1;return true;}, void 0)};}
function bH(fY, fZ){ return!bI((f0) =>!fY(f0), fZ);}
function bI(fY, fZ){ const f0=cB(fZ);try { let f1=false;while(!f1&&f0.MoveNext())f1=fY(f0.Current);return f1;} finally { if(typeof f0=="object"&&a(f0))f0.Dispose();} }
function bJ(fY, fZ){ const f0=[];for(let f2=0, f3=fZ.length-1;f2<=f3;f2++){ const f1=fY(fZ[f2]);if(f1==null){ } else f0.push(f1.$0);} return f0;}
function bK(fY, fZ){ let f0=null;let f1=0;while(f1<fZ.length&&f0==null){ fY(fZ[f1])?f0=u0033(f1):void 0;f1=f1+1;} return f0;}
function bL(fY, fZ){ let f0=null;let f1=0;while(f1<fZ.length&&f0==null){ const f2=fY(fZ[f1]);if(f2!=null&&f2.$==1)f0=f2;f1=f1+1;} return f0;}
function bM(fY, fZ){ let f0=false;let f1=0;while(!f0&&f1<p(fZ))if(fY(fZ[f1]))f0=true;else f1=f1+1;return f0;}
function bN(fY){ return Array.prototype.concat.apply([], bS(fY));}
function bO(fY, fZ){ for(let f0=0, f1=fZ.length-1;f0<=f1;f0++)fY(fZ[f0]);}
function bP(fY, fZ, f0){ let f1=f0;const f2=fZ.length;for(let f3=1, f4=f2;f3<=f4;f3++)f1=fY(fZ[f2-f3], f1);return f1;}
function bQ(fY, fZ){ const f0=new Array(fZ.length);for(let f1=0, f2=fZ.length-1;f1<=f2;f1++)f0[f1]=fY(fZ[f1]);return f0;}
function bR(fY, fZ){ const f0=[];for(let f1=0, f2=fZ.length-1;f1<=f2;f1++)if(fY(fZ[f1]))f0.push(fZ[f1]);return f0;}
function bS(fY){ if(fY instanceof Array)return fY.slice();else if(fY instanceof eo)return bU(fY);else { const fZ=[];const f0=cB(fY);try { while(f0.MoveNext())fZ.push(f0.Current);return fZ;} finally { if(typeof f0=="object"&&a(f0))f0.Dispose();} } }
function bT(fY, fZ){ const f0=bL(fY, fZ);return f0==null?h("KeyNotFoundException"):f0.$0;}
function bU(fY){ const fZ=[];let f0=fY;while(!(f0.$==0)){ fZ.push(e9(f0));f0=e_(f0);} return fZ;}
function bV(fY, fZ){ let f0=true;let f1=0;while(f0&&f1<p(fZ))if(fY(fZ[f1]))f1=f1+1;else f0=false;return f0;}
function bW(fY, fZ){ const f0=new Array(fY);for(let f1=0, f2=fY-1;f1<=f2;f1++)f0[f1]=fZ;return f0;}
function bX(fY, fZ){ if(fY<0)h("Negative size given.");else null;const f0=new Array(fY);for(let f1=0, f2=fY-1;f1<=f2;f1++)f0[f1]=fZ(f1);return f0;}
let bY=fP((fY) => class fZ extends k { static { bY=fY(this);} static init;id;vars;static initialized;static instances;static GetOrAddHoleFor(f0, f1, f2){ let f3;const f4=bY.GetHolesFor(f0);const f5=(f3=null,[f4.TryGetValue(f1, {get:() => f3, set:(f7) => { f3=f7;}}), f3]);if(f5[0])return f5[1];else { const f6=f2();f4.set_Item(f1, f6);return f6;} } static GetHolesFor(f0){ let f1;const f2=(f1=null,[bY.initialized.TryGetValue(f0, {get:() => f1, set:(f4) => { f1=f4;}}), f1]);if(f2[0])return f2[1];else { const f3=new bm("New_5");bY.initialized.set_Item(f0, f3);return f3;} } static { bY.initialized=new bm("New_5");bY.instances=new bm("New_5");} });
let bZ=fP((fY) => { fS(r);return class fZ extends r { static { bZ=fY(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0033(this.fillWith.View);} AddAttribute(f0, f1){(f0(f1))(eb(this.fillWith));} get AsChoiceView(){ return en(db(String, this.fillWith.View));} constructor(f0, f1){ super();this.name=f0;this.fillWith=f1;} };});
let b0=fP((fY) => { fS(r);return class fZ extends r { static { b0=fY(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0033(db(String, this.fillWith.View));} AddAttribute(f0, f1){(f0(f1))(ec(this.fillWith));} get AsChoiceView(){ return en(db(String, this.fillWith.View));} constructor(f0, f1){ super();this.name=f0;this.fillWith=f1;} };});
let b1=fP((fY) => { fS(r);return class fZ extends r { static { b1=fY(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0033(db(String, this.fillWith.View));} AddAttribute(f0, f1){(f0(f1))(ed(this.fillWith));} get AsChoiceView(){ return en(db(String, this.fillWith.View));} constructor(f0, f1){ super();this.name=f0;this.fillWith=f1;} };});
let b2=fP((fY) => { fS(r);return class fZ extends r { static { b2=fY(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0033(db((f0) =>(new Date(f0)).toLocaleString(), this.fillWith.View));} AddAttribute(f0, f1){(f0(f1))(ee(this.fillWith));} get AsChoiceView(){ return en(db((f0) =>(new Date(f0)).toLocaleString(), this.fillWith.View));} constructor(f0, f1){ super();this.name=f0;this.fillWith=f1;} };});
let b3=fP((fY) => { fS(r);return class fZ extends r { static { b3=fY(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0033(db(String, this.fillWith.View));} AddAttribute(f0, f1){(f0(f1))(ef(this.fillWith));} get AsChoiceView(){ return en(db(String, this.fillWith.View));} constructor(f0, f1){ super();this.name=f0;this.fillWith=f1;} };});
let b4=fP((fY) => { fS(r);return class fZ extends r { static { b4=fY(this);} name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(f0, f1){ super();this.name=f0;this.fillWith=f1;} };});
let b5=fP((fY) => { fS(r);return class fZ extends r { static { b5=fY(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0033(db((f0) => ep(",", f0), this.fillWith.View));} AddAttribute(f0, f1){(f0(f1))(eg(this.fillWith));} get AsChoiceView(){ return en(db(String, this.fillWith.View));} constructor(f0, f1){ super();this.name=f0;this.fillWith=f1;} };});
function b6(fY){ return{$:6, $0:fY};}
function b7(fY){ return{$:5, $0:fY};}
function b8(fY){ return{$:4, $0:fY};}
let b9=fP((fY) => class fZ { static { b9=fY(this);} });
function b_(fY, fZ){ return fH(fY, -2147483648, 2147483647, fZ);}
let b$=fP((fY) => { fS(s);return class fZ extends s { static { b$=fY(this);} isConst;current;snap;view;id;get View(){ return this.view;} Set(f0){ if(this.isConst)(((f1) => f1("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((f1) => { console.log(f1);}));else { dP(this.snap);this.current=f0;this.snap={s:c5(f0, [])};} } Get(){ return this.current;} SetFinal(f0){ if(this.isConst)(((f1) => f1("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((f1) => { console.log(f1);}));else { dP(this.snap);this.isConst=true;this.current=f0;this.snap={s:c6(f0)};} } UpdateMaybe(f0){ const f1=f0(this.Get());if(f1!=null&&f1.$==1)this.Set(f1.$0);} constructor(f0, f1, f2){ super();this.isConst=f0;this.current=f2;this.snap=f1;this.view=() => this.snap;this.id=c2();} };});
function ca(fY, fZ, f0){ const f1=fY.s;if(f1==null)f0();else f1!=null&&f1.$==2?(f1.$1.push(f0),fZ(f1.$0)):f1!=null&&f1.$==3?(f1.$0.push(fZ),f1.$1.push(f0)):fZ(f1.$0);}
function cb(fY, fZ){ const f0=fZ.s;if(f0!=null&&f0.$==0)return{s:c6(fY(f0.$0))};else { const f1={s:c7([], [])};ci(fZ, (f2) => { cj(f1, fZ, fY(f2));}, f1);return f1;} }
function cc(fY, fZ, f0, f1){ const f2=fZ.s;const f3=f0.s;const f4=f1.s;if(f2!=null&&f2.$==0)return f3!=null&&f3.$==0?f4!=null&&f4.$==0?{s:c6(fY(f2.$0, f3.$0, f4.$0))}:ck(fY, f2.$0, f3.$0, f1):f4!=null&&f4.$==0?cl(fY, f2.$0, f4.$0, f0):cm(fY, f2.$0, f0, f1);else if(f3!=null&&f3.$==0)return f4!=null&&f4.$==0?cn(fY, f3.$0, f4.$0, fZ):co(fY, f3.$0, fZ, f1);else if(f4!=null&&f4.$==0)return cp(fY, f4.$0, fZ, f0);else { const f5={s:c7([], [])};const f6=() => { const f7=f5.s;if(!(f7!=null&&f7.$==0||f7!=null&&f7.$==2)){ const f8=cq(fZ);const f9=cq(f0);const f_=cq(f1);if(f8!=null&&f8.$==1)if(f9!=null&&f9.$==1)if(f_!=null&&f_.$==1)if(f8.$0[1]&&f9.$0[1]&&f_.$0[1])cr(f5, fY(f8.$0[0], f9.$0[0], f_.$0[0]));else cs(f5, fY(f8.$0[0], f9.$0[0], f_.$0[0]));} };ci(fZ, f6, f5);ci(f0, f6, f5);ci(f1, f6, f5);return f5;} }
function cd(fY){ const fZ=bS(fY);if(fZ.length==0)return{s:c6([])};else { const f0={s:c7([], [])};const f1=[p(fZ)-1];const f2=() => { if(f1[0]===0){ const f3=bQ((f4) => { const f5=f4.s;return f5!=null&&f5.$==0?f5.$0:f5!=null&&f5.$==2?f5.$0:h("value not found by View.Sequence");}, fZ);if(bV((f4) => { const f5=f4.s;return f5!=null&&f5.$==0;}, fZ))cr(f0, f3);else cs(f0, f3);} else f1[0]=f1[0]-1;};bO((f3) => { ci(f3, f2, f0);}, fZ);return f0;} }
function ce(fY, fZ, f0){ const f1=fZ.s;const f2=f0.s;if(f1!=null&&f1.$==0)return f2!=null&&f2.$==0?{s:c6(fY(f1.$0, f2.$0))}:ct(fY, f1.$0, f0);else if(f2!=null&&f2.$==0)return cu(fY, f2.$0, fZ);else { const f3={s:c7([], [])};const f4=() => { const f5=f3.s;if(!(f5!=null&&f5.$==0||f5!=null&&f5.$==2)){ const f6=cq(fZ);const f7=cq(f0);if(f6!=null&&f6.$==1)if(f7!=null&&f7.$==1)if(f6.$0[1]&&f7.$0[1])cr(f3, fY(f6.$0[0], f7.$0[0]));else cs(f3, fY(f6.$0[0], f7.$0[0]));} };ci(fZ, f4, f3);ci(f0, f4, f3);return f3;} }
function cf(fY, fZ){ const f0=fY.s;const f1=fZ.s;if(f0!=null&&f0.$==0)return f1!=null&&f1.$==0?{s:c6(null)}:fZ;else if(f1!=null&&f1.$==0)return fY;else { const f2={s:c7([], [])};const f3=() => { const f4=f2.s;if(!(f4!=null&&f4.$==0||f4!=null&&f4.$==2)){ const f5=cq(fY);const f6=cq(fZ);if(f5!=null&&f5.$==1)if(f6!=null&&f6.$==1)if(f5.$0[1]&&f6.$0[1])cr(f2, null);else cs(f2, null);} };ci(fY, f3, f2);ci(fZ, f3, f2);return f2;} }
function cg(fY){ const fZ=fY.s;if(fZ==null)return fY;else if(fZ!=null&&fZ.$==2){ const f0={s:c5(fZ.$0, [])};cv(fY, f0);return f0;} else if(fZ!=null&&fZ.$==3){ const f1={s:c7([], [])};ci(fY, (f2) => { cj(f1, fY, f2);}, f1);return f1;} else return fY;}
function ch(fY, fZ){ const f0=fY.s;if(f0==null)fZ();else f0!=null&&f0.$==2?f0.$1.push(fZ):f0!=null&&f0.$==3?f0.$1.push(fZ):void 0;}
function ci(fY, fZ, f0){ const f1=fY.s;if(f1==null)dP(f0);else f1!=null&&f1.$==2?(cw(f1.$1, f0),fZ(f1.$0)):f1!=null&&f1.$==3?(f1.$0.push(fZ),cw(f1.$1, f0)):fZ(f1.$0);}
function cj(fY, fZ, f0){ const f1=fZ.s;if(f1!=null&&f1.$==0)cr(fY, f0);else cs(fY, f0);}
function ck(fY, fZ, f0, f1){ return cb((f2) => fY(fZ, f0, f2), f1);}
function cl(fY, fZ, f0, f1){ return cb((f2) => fY(fZ, f2, f0), f1);}
function cm(fY, fZ, f0, f1){ return ce((f2, f3) => fY(fZ, f2, f3), f0, f1);}
function cn(fY, fZ, f0, f1){ return cb((f2) => fY(f2, fZ, f0), f1);}
function co(fY, fZ, f0, f1){ return ce((f2, f3) => fY(f2, fZ, f3), f0, f1);}
function cp(fY, fZ, f0, f1){ return ce((f2, f3) => fY(f2, f3, fZ), f0, f1);}
function cq(fY){ const fZ=fY.s;return fZ!=null&&fZ.$==0?u0033([fZ.$0, true]):fZ!=null&&fZ.$==2?u0033([fZ.$0, false]):null;}
function cr(fY, fZ){ const f0=fY.s;if(f0!=null&&f0.$==3){ fY.s=c6(fZ);const f1=f0.$0;for(let f2=0, f3=p(f1)-1;f2<=f3;f2++)(m(f1, f2))(fZ);} else void 0;}
function cs(fY, fZ){ const f0=fY.s;if(f0!=null&&f0.$==3){ fY.s=c5(fZ, f0.$1);const f1=f0.$0;for(let f2=0, f3=p(f1)-1;f2<=f3;f2++)(m(f1, f2))(fZ);} else void 0;}
function ct(fY, fZ, f0){ return cb((f1) => fY(fZ, f1), f0);}
function cu(fY, fZ, f0){ return cb((f1) => fY(f1, fZ), f0);}
function cv(fY, fZ){ const f0=fY.s;if(f0==null)dP(fZ);else f0!=null&&f0.$==2?cw(f0.$1, fZ):f0!=null&&f0.$==3?cw(f0.$1, fZ):void 0;}
function cw(fY, fZ){ fY.push(fZ);if(fY.length%20===0){ const f0=fY.slice(0);fM(fY);for(let f2=0, f3=p(f0)-1;f2<=f3;f2++){ const f1=m(f0, f2);if(typeof f1=="object")(((f4) => { if(f4.s)fY.push(f4);})(f1));else(((f4) => { fY.push(f4);})(f1));} } else void 0;}
let cx=fP((fY) => class fZ extends k { static { cx=fY(this);} idle;robin;Fork(f0){ this.robin.push(f0);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const f0=Date.now();let f1=true;while(f1)if(this.robin.length===0){ this.idle=true;f1=false;} else {(this.robin.shift())();Date.now()-f0>40?(setTimeout(() => { this.tick();}, 0),f1=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} });
let cy=fP((fY) => { fS(Error);return class fZ extends Error { static { cy=fY(this);} reason;constructor(f0){ super("Promise rejected");this.reason=f0;} };});
let cz=fP((fY) => class fZ { static { cz=fY(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=bs(false, []);this.scheduler=new cx();this.defCTS=[new c9()];this.Zero=P();this.GetCT=(f0) => { f0.k(bq(f0.ct));};} });
function cA(){ throw new e2("New");}
function cB(fY){ return fY instanceof Array?cC(fY):v(typeof fY, "string")?cD(fY):fY.GetEnumerator();}
function cC(fY){ return new cF(0, null, (fZ) => { const f0=fZ.s;return f0<p(fY)&&(fZ.c=m(fY, f0),fZ.s=f0+1,true);}, void 0);}
function cD(fY){ return new cF(0, null, (fZ) => { const f0=fZ.s;return f0<fY.length&&(fZ.c=fY[f0],fZ.s=f0+1,true);}, void 0);}
function cE(fY){ return fY instanceof Array?cC(fY):v(typeof fY, "string")?cD(fY):"GetEnumerator0"in fY?fY.GetEnumerator0():fY.GetEnumerator();}
let cF=fP((fY) => class fZ extends k { static { cF=fY(this);} s;c;n;d;e;MoveNext(){ const f0=this.n(this);this.e=f0?1:2;return f0;} get Current(){ return this.e===1?this.c:this.e===0?h("Enumeration has not started. Call MoveNext."):h("Enumeration already finished.");} Dispose(){ if(this.d)this.d(this);} constructor(f0, f1, f2, f3){ super();this.s=f0;this.c=f1;this.n=f2;this.d=f3;this.e=0;} });
let cG=fP((fY) => class fZ { static { cG=fY(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new bm("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new bm("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
function cH(fY, fZ){ cI(fY, fZ, null);}
function cI(fY, fZ, f0){ while(true){ if(fZ!=null&&fZ.$==1)return cN(fY, fZ.$0.El, f0);else if(fZ!=null&&fZ.$==2){ const f1=fZ.$0;f1.Dirty=false;fZ=f1.Current;} else if(fZ==null)return f0;else if(fZ!=null&&fZ.$==4)return cN(fY, fZ.$0.Text, f0);else if(fZ!=null&&fZ.$==5)return cN(fY, fZ.$0, f0);else if(fZ!=null&&fZ.$==6)return bP((f4, f5) =>((((f6) =>(f7) =>(f8) => f7==null||f7.constructor===Object?cI(f6, f7, f8):cN(f6, f7, f8))(fY))(f4))(f5), fZ.$0.Els, f0);else { const f2=fZ.$1;const f3=fZ.$0;fZ=f3;f0=cI(fY, f2, f0);} } }
function cJ(fY, fZ){ return eC(eD(), cO(fY, dW(), fZ));}
function cK(fY, fZ, f0){ if(dF()){ const f1=null;return N(() => { const f2=eE(f0);const f3=cS(fZ, f2);const f4=cR(fZ, f2);return O(dG(dH(f3, cQ(fZ, f2))), () => O(cP(fY, fZ), () => O(dG(f4), () => { fZ.PreviousNodes=f2;return P(null);})));});} else return cP(fY, fZ);}
function cL(fY, fZ, f0){ const f1=eE(f0);cT(fY, fZ.Top);fZ.PreviousNodes=f1;}
function cM(fY, fZ){ const f0=fY.parentNode;const f1=globalThis.document.createTextNode("");f0.insertBefore(f1, fY);cW(fY, fZ);return f1;}
function cN(fY, fZ, f0){ dz(fY, f0, fZ);return fZ;}
function cO(fY, fZ, f0){ cH(fY, f0);const f1=dQ(fY, fZ);return c1.New(f1, f0, null, fY, c2(), fT(f1.OnAfterRender));}
function cP(fY, fZ){ if(dM()){ const f0=(f1) => { requestAnimationFrame(() => { cT(fY, fZ.Top);f1();});};return W((f1, f2, f3) => f0.apply(null, [f1, f2, f3]));} else { cT(fY, fZ.Top);return P(null);} }
function cQ(fY, fZ){ return dK(bQ((f0) => dY(f0.Attr), eI(eH(fZ, eG((f0) => dX(f0.Attr), fY.PreviousNodes)))));}
function cR(fY, fZ){ return dK(bQ((f0) => d0(f0.Attr), eI(eH(fY.PreviousNodes, eG((f0) => dZ(f0.Attr), fZ)))));}
function cS(fY, fZ){ const f0=(f2) => d1(f2.Attr);const f1=(f2) => eG(f0, f2);return dK(bQ((f2) => d2(f2.Attr), eI(eJ(f1(fY.PreviousNodes), f1(fZ)))));}
function cT(fY, fZ){!fY?cX(fZ):void 0;cY(fZ.Children);cZ(fZ);}
function cU(){ return{Text:globalThis.document.createTextNode(""), Dirty:false, Value:""};}
function cV(fY, fZ){ fY.Value=fZ;fY.Dirty=true;}
function cW(fY, fZ){ cI(fY.parentNode, fZ, fY);}
function cX(fY){ function fZ(f0){ function f1(f2){ while(true){ if(f2!=null&&f2.$==0){ const f3=f2.$1;const f4=f2.$0;if(f1(f4))return true;else f2=f3;} else if(f2!=null&&f2.$==2){ const f5=f2.$0;if(f5.Dirty)return true;else f2=f5.Current;} else if(f2!=null&&f2.$==6){ const f6=f2.$0;return f6.Dirty||bM(fZ, f6.Holes);} else return false;} } return f1(f0.Children);} d5(fY.El, fY.Attr);if(fZ(fY))c0(fY);}
function cY(fY){ while(true){ if(fY!=null&&fY.$==1)return cT(false, fY.$0);else if(fY!=null&&fY.$==2){ const fZ=fY.$0;fY=fZ.Current;} else if(fY==null)return null;else if(fY!=null&&fY.$==5)return null;else if(fY!=null&&fY.$==4){ const f0=fY.$0;return f0.Dirty?(f0.Text.nodeValue=f0.Value,f0.Dirty=false):null;} else if(fY!=null&&fY.$==6){ const f1=fY.$0;bO((f4) => { cT(false, f4);}, f1.Holes);bO((f4) => { d5(f4[0], f4[1]);}, f1.Attrs);return cZ(f1);} else { const f2=fY.$1;const f3=fY.$0;cY(f3);fY=f2;} } }
function cZ(fY){ const fZ=fT(fY.Render);if(fZ!=null&&fZ.$==1){ fZ.$0(fY.El);fR(fY, "Render", null);} }
function c0(fY){ const fZ=fY.El;function f0(f4, f5){ while(true){ if(f4!=null&&f4.$==1)return f4.$0.El;else if(f4!=null&&f4.$==2){ const f6=f4.$0;if(f6.Dirty){ f6.Dirty=false;return cI(fZ, f6.Current, f5);} else f4=f6.Current;} else if(f4==null)return f5;else if(f4!=null&&f4.$==4)return f4.$0.Text;else if(f4!=null&&f4.$==5)return f4.$0;else if(f4!=null&&f4.$==6){ const f7=f4.$0;if(f7.Dirty)f7.Dirty=false;return bP((f_, f$) => f_==null||f_.constructor===Object?f0(f_, f$):f_, f7.Els, f5);} else { const f8=f4.$1;const f9=f4.$0;f4=f9;f5=f0(f8, f5);} } } const f1=fY.El;fC((f4) => { dA(f1, f4);}, fB(fD(fY), fA(fY.El, fT(fY.Delimiters))));let f2=fY.Children;const f3=fT(fY.Delimiters);f0(f2, f3!=null&&f3.$==1?f3.$0[1]:null);}
let c1=fP((fY) => class fZ { static { c1=fY(this);} Attr;Children;Delimiters;El;ElKey;Render;Equals(f0){ return this.ElKey===f0.ElKey;} GetHashCode(){ return this.ElKey;} static New(f0, f1, f2, f3, f4, f5){ const f6={Attr:f0, Children:f1, El:f3, ElKey:f4};let f7=(fR(f6, "Delimiters", f2),fR(f6, "Render", f5),f6);return fW(c1, f7);} });
function c2(){ c3(c4()+1);return c4();}
function c3(fY){ eU.counter=fY;}
function c4(){ return eU.counter;}
function c5(fY, fZ){ return{$:2, $0:fY, $1:fZ};}
function c6(fY){ return{$:0, $0:fY};}
function c7(fY, fZ){ return{$:3, $0:fY, $1:fZ};}
let c8=fP((fY) => { fS(Error);return class fZ extends Error { static { c8=fY(this);} ct;static New(f0){ return new this("New", f0);} static New_1(f0, f1, f2){ return new this("New_1", f0, f1, f2);} constructor(f0, f1, f2, f3){ let f4;if(f0=="New"){ f4=f1;f0="New_1";f1="The operation was canceled.";f2=null;f3=f4;} if(f0=="New_1"){ const f5=f1;const f6=f2;const f7=f3;super(f5);this.inner=f6;this.ct=f7;} } };});
let c9=fP((fY) => class fZ extends k { static { c9=fY(this);} init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} });
let c_=fP((fY) => { fS(bl);return class fZ extends bl { static { c_=fY(this);} docNode_1;updates_1;elt;rvUpdates;static TreeNode(f0, f1){ const f2=eA.Create(f1);const f3=bQ((f6) => dR(f6[1]), f0.Attrs);let f4=ex(c$(), df, f3);let f5=df(f4, f2.v);return new fZ(b6(f0), f5, m(f0.Els, 0), f2);} constructor(f0, f1, f2, f3){ super(f0, f1);this.docNode_1=f0;this.updates_1=f1;this.elt=f2;this.rvUpdates=f3;} };});
function c$(fY){ const fZ={s:c6(fY)};return() => fZ;}
function da(fY, fZ){ function f0(){ ca(fZ(), fY, () => { V().Fork(f0);});} V().Fork(f0);}
function db(fY, fZ){ return dg(() => cb(fY, fZ()));}
function dc(fY, fZ, f0, f1){ return dg(() => cc(fY, fZ(), f0(), f1()));}
function dd(fY){ return dg(() => cd(by((fZ) => fZ(), fY)));}
function de(fY, fZ, f0){ return dg(() => ce(fY, fZ(), f0()));}
function df(fY, fZ){ return dg(() => cf(fY(), fZ()));}
function dg(fY){ const fZ={c:null, o:fY};return() => { let f0=fZ.c;if(f0===null){ f0=fZ.o();fZ.c=f0;const f1=f0.s;if(f1!=null&&f1.$==0)fZ.o=null;else ch(f0, () => { fZ.c=null;});return f0;} else return f0;};}
function dh(fY){ let fZ=null;let f0=0;const f1=fY.textContent;const f2=new RegExp(bk(), "g");while(fZ=f2.exec(f1),fZ!==null){ fY.parentNode.insertBefore(globalThis.document.createTextNode(dp(f1, u0033(f0), u0033(f2.lastIndex-m(fZ, 0).length-1))), fY);f0=f2.lastIndex;const f3=globalThis.document.createElement("span");f3.setAttribute("ws-replace", m(fZ, 1).toLowerCase());fY.parentNode.insertBefore(f3, fY);} f2.lastIndex=0;fY.textContent=dp(f1, u0033(f0), null);}
function di(fY){ console.warn("Instantiating non-loaded template", fY);}
function dj(fY, fZ, f0){ const f1=fY.querySelector("[ws-replace]");return v(f1, null)?(console.warn("Filling non-existent text hole", f0),null):(f1.parentNode.replaceChild(globalThis.document.createTextNode(fZ), f1),u0033(f1.getAttribute("ws-replace")));}
function dk(fY, fZ){ const f0=(f1) => { bh(fY, "["+f1+"]", (f2) => { if(!fZ.Contains(f2.getAttribute(f1)))f2.removeAttribute(f1);});};f0("ws-attr");f0("ws-onafterrender");f0("ws-var");bh(fY, "[ws-hole]", (f1) => { if(!fZ.Contains(f1.getAttribute("ws-hole"))){ f1.removeAttribute("ws-hole");while(f1.hasChildNodes())f1.removeChild(f1.lastChild);} });bh(fY, "[ws-replace]", (f1) => { if(!fZ.Contains(f1.getAttribute("ws-replace")))f1.parentNode.removeChild(f1);});bh(fY, "[ws-on]", (f1) => { f1.setAttribute("ws-on", ep(" ", bR((f2) => fZ.Contains(m(eq(f2, [":"], 1), 1)), eq(f1.getAttribute("ws-on"), [" "], 1))));});bh(fY, "[ws-attr-holes]", (f1) => { const f2=eq(f1.getAttribute("ws-attr-holes"), [" "], 1);for(let f6=0, f7=f2.length-1;f6<=f7;f6++){ const f3=m(f2, f6);let f4=new RegExp(bk(), "g");let f5=f1.getAttribute(f3).replace(f4, (f8, f9) => fZ.Contains(f9)?f8:"");f1.setAttribute(f3, f5);} });}
function dl(fY, fZ){ do_1(fZ);const f0=fZ.nodeName.toLowerCase();const f1=fY.querySelector("[ws-attr="+f0+"]");if(v(f1, null))console.warn("Filling non-existent attr hole", f0);else { f1.removeAttribute("ws-attr");for(let f3=0, f4=fZ.attributes.length-1;f3<=f4;f3++){ const f2=fZ.attributes.item(f3);if(f2.name=="class"&&f1.hasAttribute("class"))f1.setAttribute("class", f1.getAttribute("class")+" "+f2.nodeValue);else f1.setAttribute(f2.name, f2.nodeValue);} } }
function dm(fY, fZ){ const f0=(f1) => { bh(fY, "["+f1+"]", (f2) => { let f3;const f4=(f3=null,[fZ.TryGetValue(f2.getAttribute(f1).toLowerCase(), {get:() => f3, set:(f5) => { f3=f5;}}), f3]);if(f4[0])f2.setAttribute(f1, f4[1]);});};f0("ws-hole");f0("ws-replace");f0("ws-attr");f0("ws-onafterrender");f0("ws-var");bh(fY, "[ws-on]", (f1) => { f1.setAttribute("ws-on", ep(" ", bQ((f2) => { let f3;const f4=eq(f2, [":"], 1);const f5=(f3=null,[fZ.TryGetValue(m(f4, 1), {get:() => f3, set:(f6) => { f3=f6;}}), f3]);return f5[0]?m(f4, 0)+":"+f5[1]:f2;}, eq(f1.getAttribute("ws-on"), [" "], 1))));});bh(fY, "[ws-attr-holes]", (f1) => { const f2=eq(f1.getAttribute("ws-attr-holes"), [" "], 1);for(let f3=0, f4=f2.length-1;f3<=f4;f3++)((() => { const f5=m(f2, f3);return f1.setAttribute(f5, bw((f6, f7) => { const f8=i(f7);return f6.replace(new RegExp("\\${"+f8[0]+"}", "ig"), "${"+f8[1]+"}");}, f1.getAttribute(f5), fZ));})());});}
function dn(fY, fZ, f0){ while(true){ if(fY.hasChildNodes())f0=fZ.insertBefore(fY.lastChild, f0);else return null;} }
function do_1(fY){ const fZ=fY.attributes;const f0=[];const f1=[];const f2=[];for(let f7=0, f8=fZ.length-1;f7<=f8;f7++){ const f3=fZ.item(f7);if(er(f3.nodeName, "ws-on")&&f3.nodeName!="ws-onafterrender"&&f3.nodeName!="ws-on"){ f0.push(f3.nodeName);f1.push(dp(f3.nodeName, u0033("ws-on".length), null)+":"+f3.nodeValue.toLowerCase());} else if(!er(f3.nodeName, "ws-")&&(new RegExp(bk())).test(f3.nodeValue)){ let f4=new RegExp(bk(), "g");let f5=f3.nodeValue.replace(f4, (f9, f_) =>"${"+f_.toLowerCase()+"}");f3.nodeValue=f5;f2.push(f3.nodeName);} else void 0;} if(!(f1.length==0))fY.setAttribute("ws-on", ep(" ", f1));if(!(f2.length==0))fY.setAttribute("ws-attr-holes", ep(" ", f2));const f6=(f9) => { const f_=fY.getAttribute(f9);if(f_==null){ } else fY.setAttribute(f9, f_.toLowerCase());};f6("ws-hole");f6("ws-replace");f6("ws-attr");f6("ws-onafterrender");f6("ws-var");bO((f9) => { fY.removeAttribute(f9);}, f0);}
function dp(fY, fZ, f0){ if(fZ==null){ if(f0!=null&&f0.$==1){ const f1=f0.$0;return f1<0?"":fY.slice(0, f1+1);} else return"";} else if(f0==null)return fY.slice(fZ.$0);else { const f2=f0.$0;return f2<0?"":fY.slice(fZ.$0, f2+1);} }
function dq(fY){ const fZ=globalThis.document.createElement("div");if(!ds().test(fY)){ fZ.appendChild(globalThis.document.createTextNode(fY));return fZ;} else { const f0=dw().exec(fY);const f1=v(f0, null)?"":m(f0, 1).toLowerCase();const f2=(dt())[f1];const f3=f2?f2:du();fZ.innerHTML=f3[1]+fY.replace(dv(), "<$1></$2>")+f3[2];function f4(f5, f6){ while(true){ if(f6===0)return f5;else { const f7=f6;f5=f5.lastChild;f6=f7-1;} } } return f4(fZ, f3[0]);} }
function dr(fY){ const fZ=[];for(let f0=0, f1=fY.childNodes.length-1;f0<=f1;f0++)fZ.push(fY.childNodes[f0]);return fZ;}
function ds(){ return eV.rhtml;}
function dt(){ return eV.wrapMap;}
function du(){ return eV.defaultWrap;}
function dv(){ return eV.rxhtmlTag;}
function dw(){ return eV.rtagName;}
function dx(fY, fZ, f0){ const f1=fY.querySelectorAll(fZ);for(let f2=0, f3=f1.length-1;f2<=f3;f2++)f0(f1[f2]);}
function dy(fY, fZ){ const f0=globalThis.document.querySelectorAll(fY);for(let f1=0, f2=f0.length-1;f1<=f2;f1++)fZ(f0[f1]);}
function dz(fY, fZ, f0){ let f1;if(f0.parentNode===fY){ const f2=f0.nextSibling;let f3=v(f2, null)?null:f2;f1=fZ===f3;} else f1=false;if(!f1)fY.insertBefore(f0, fZ);}
function dA(fY, fZ){ if(fZ.parentNode===fY)fY.removeChild(fZ);}
function dB(){ return h("The input sequence has an insufficient number of elements.");}
function dC(fY, fZ){ let f0=true;let f1=0;while(f0&&f1<p(fZ))if(v(fZ[f1], fY))f0=false;else f1=f1+1;return!f0;}
function dD(){ return h("The input must be non-negative.");}
let dE=fP((fY) => class fZ extends k { static { dE=fY(this);} d;GetEnumerator(){ return cB(by((f0) => f0.K, this.d));} constructor(f0){ super();this.d=f0;} });
function dF(){ return eK();}
function dG(fY){ const fZ=null;return N(() => O(dI(() => { }, eL(fY)), () => { eM(fY);return P(null);}));}
function dH(fY, fZ){ return dJ(eX(fY.$0, fZ.$0));}
function dI(fY, fZ){ const f0=fZ.Duration;if(f0===0)return X();else { const f1=(f2) => { function f3(f4){ return(f5) => { const f6=f5-f4;fZ.Compute(f6);fY();return f6<=f0?void requestAnimationFrame((f7) => {(f3(f4))(f7);}):f2();};} requestAnimationFrame((f4) => {(f3(f4))(f4);});};return W((f2, f3, f4) => f1.apply(null, [f2, f3, f4]));} }
function dJ(fY){ return{$:0, $0:fY};}
function dK(fY){ return dJ(eZ(by(eO, fY)));}
function dL(){ return dJ(e0());}
function dM(){ return eS.BatchUpdatesEnabled;}
function dN(fY){ const fZ=[0];function f0(){ const f1=null;return N(() => O(fY, () => { const f2=fZ[0];return v(f2, 1)?(fZ[0]=0,X()):v(f2, 2)?(fZ[0]=1,f0()):X();}));} return() => { const f1=fZ[0];if(v(f1, 0)){ fZ[0]=1;Y(f0(), null);} else v(f1, 1)?fZ[0]=2:void 0;};}
function dO(fY, fZ, f0, f1){ const f2={DynElem:fY, DynFlags:fZ, DynNodes:f0};fR(f2, "OnAfterRender", f1);return f2;}
function dP(fY){ let fZ;const f0=fY.s;if(f0==null||(f0!=null&&f0.$==2?(fZ=f0.$1,false):f0!=null&&f0.$==3?(fZ=f0.$1,false):true))void 0;else { fY.s=null;for(let f2=0, f3=p(fZ)-1;f2<=f3;f2++){ const f1=m(fZ, f2);if(typeof f1=="object")(((f4) => { dP(f4);})(f1));else f1();} } }
function dQ(fY, fZ){ const f0=[];const f1=[];function f2(f5){ while(true){ if(!(f5===null)){ if(f5!=null&&f5.$==1)return f0.push(f5.$0);else if(f5!=null&&f5.$==2){ const f6=f5.$1;const f7=f5.$0;f2(f7);f5=f6;} else return f5!=null&&f5.$==3?f5.$0(fY):f5!=null&&f5.$==4?f1.push(f5.$0):null;} else return null;} } f2(fZ);const f3=f0.slice(0);let f4=dO(fY, dT(fZ), f3, f1.length===0?null:u0033((f5) => { bx((f6) => { f6(f5);}, f1);}));return f4;}
function dR(fY){ return ey((fZ) => fZ.NChanged, c$(), df, fY.DynNodes);}
function dS(fY){ return dO(fY, 0, [], null);}
function dT(fY){ return fY!==null&&fY.hasOwnProperty("flags")?fY.flags:0;}
function dU(fY){ return ej.A3(fY);}
function dV(fY, fZ){ return ej.A1(new e1(fY, fZ));}
function dW(){ return e3.EmptyAttr;}
function dX(fY){ const fZ=2;return(fY.DynFlags&fZ)===fZ;}
function dY(fY){ return d4(fY, (fZ, f0) => fZ.NGetExitAnim(f0));}
function dZ(fY){ const fZ=1;return(fY.DynFlags&fZ)===fZ;}
function d0(fY){ return d4(fY, (fZ, f0) => fZ.NGetEnterAnim(f0));}
function d1(fY){ const fZ=4;return(fY.DynFlags&fZ)===fZ;}
function d2(fY){ return d4(fY, (fZ, f0) => fZ.NGetChangeAnim(f0));}
function d3(fY, fZ){ if(fY===null)return fZ;else if(fZ===null)return fY;else { const f0=ej.A2(fY, fZ);d6(f0, dT(fY)|dT(fZ));return f0;} }
function d4(fY, fZ){ return dK(bQ((f0) => fZ(f0, fY.DynElem), fY.DynNodes));}
function d5(fY, fZ){ bO((f0) => { f0.NSync(fY);}, fZ.DynNodes);}
function d6(fY, fZ){ fY.flags=fZ;}
let d7=fP((fY) => { fS(r);return class fZ extends r { static { d7=fY(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let d8=fP((fY) => { fS(r);return class fZ extends r { static { d8=fY(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let d9=fP((fY) => { fS(r);return class fZ extends r { static { d9=fY(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
function d_(fY, fZ){ return dU((f0) => { f0.addEventListener(fY, (f1) =>(fZ(f0))(f1), false);});}
function d$(fY){ return ej.A4(fY);}
function ea(fY, fZ){ return dV(fZ, (f0) =>(f1) => f0.setAttribute(fY, f1));}
function eb(fY){ return eh(fs(), fY);}
function ec(fY){ return eh(ft(), fY);}
function ed(fY){ return eh(fu(), fY);}
function ee(fY){ return eh(fv(), fY);}
function ef(fY){ return eh(fw(), fY);}
function eg(fY){ return eh(fx(), fY);}
function eh(fY, fZ){ const f0=fY(fZ);return ej.Append(dU(f0[0]), ei(f0[1], f0[2]));}
function ei(fY, fZ){ return dV(fZ, fY);}
let ej=fP((fY) => class fZ { static { ej=fY(this);} static Handler(f0, f1){ return ej.HandlerImpl(f0, f1);} static Concat(f0){ const f1=ez(f0);return ex(dW(), ej.Append, f1);} static Create(f0, f1){ return dU((f2) => { f2.setAttribute(f0, f1);});} static HandlerImpl(f0, f1){ return dU((f2) => { f2.addEventListener(f0, (f3) =>(f1(f2))(f3), false);});} static Append(f0, f1){ return d3(f0, f1);} static A4(f0){ return fW(fZ, {$:4, $0:f0});} static A3(f0){ return fW(fZ, {$:3, $0:f0});} static A1(f0){ return fW(fZ, {$:1, $0:f0});} static A2(f0, f1){ return fW(fZ, {$:2, $0:f0, $1:f1});} });
let ek=fP((fY) => { fS(r);return class fZ extends r { static { ek=fY(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let el=fP((fY) => { fS(r);return class fZ extends r { static { el=fY(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
function em(fY){ return{$:0, $0:fY};}
function en(fY){ return{$:1, $0:fY};}
let eo=fP((fY) => class fZ { static { eo=fY(this);} static Cons(f0, f1){ return fW(fZ, {$:1, $0:f0, $1:f1});} static Empty=fW(eo, {$:0});GetEnumerator(){ return new cF(this, null, (f0) => { const f1=f0.s;return f1.$==0?false:(f0.c=f1.$0,f0.s=f1.$1,true);}, void 0);} });
function ep(fY, fZ){ return bS(fZ).join(fY);}
function eq(fY, fZ, f0){ return es(fY, new RegExp("["+et(fZ.join(""))+"]"), f0);}
function er(fY, fZ){ return fY.substring(0, fZ.length)==fZ;}
function es(fY, fZ, f0){ return f0===1?bR((f1) => f1!=="", eu(fY, fZ)):eu(fY, fZ);}
function et(fY){ return fY.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function eu(fY, fZ){ return fY.split(fZ);}
function ev(fY, fZ){ return bH(fY, ew(fZ));}
function ew(fY){ return fY==null?"":fY;}
function ex(fY, fZ, f0){ const f1=p(f0);function f2(f3){ return(f4) => { let f5;switch(f4<=0?0:f4===1?f3>=0&&f3<f1?1:(f5=f4,2):(f5=f4,2)){ case 0:return fY;case 1:return m(f0, f3);case 2:const f6=f4/2>>0;return fZ((f2(f3))(f6), (f2(f3+f6))(f4-f6));} };} return(f2(0))(f1);}
function ey(fY, fZ, f0, f1){ const f2=p(f1);function f3(f4){ return(f5) => { let f6;switch(f5<=0?0:f5===1?f4>=0&&f4<f2?1:(f6=f5,2):(f6=f5,2)){ case 0:return fZ;case 1:return fY(m(f1, f4));case 2:const f7=f5/2>>0;return f0((f3(f4))(f7), (f3(f4+f7))(f5-f7));} };} return(f3(0))(f2);}
function ez(fY){ if(fY instanceof Array)return fY;else if(fY instanceof eo)return bU(fY);else if(fY===null)return[];else { const fZ=[];const f0=cB(fY);try { while(f0.MoveNext())fZ.push(f0.Current);return fZ;} finally { if(typeof f0=="object"&&a(f0))f0.Dispose();} } }
let eA=fP((fY) => class fZ { static { eA=fY(this);} c;s;v;static Create(f0){ let f1;f1=null;f1=eA.New(f0, null, () => { let f2;f2=f1.s;return f2===null?(f2=cg(f1.c()),f1.s=f2,ch(f2, () => { f1.s=null;}),f2):f2;});return f1;} static New(f0, f1, f2){ return fW(eA, {c:f0, s:f1, v:f2});} });
let eB=fP((fY) => class fZ extends k { static { eB=fY(this);} d;GetEnumerator(){ return cB(by((f0) => f0.V, this.d));} constructor(f0){ super();this.d=f0;} });
function eC(fY, fZ){ return{PreviousNodes:fY, Top:fZ};}
function eD(){ return eF(new bt("New_3"));}
function eE(fY){ const fZ=[];function f0(f3, f4){ while(true)switch(f3){ case 0:if(f4!=null&&f4.$==0){ const f5=f4.$1;const f6=f4.$0;f0(0, f6);f4=f5;} else if(f4!=null&&f4.$==1){ const f7=f4.$0;f4=f7;f3=1;} else if(f4!=null&&f4.$==2){ const f8=f4.$0;f4=f8.Current;} else if(f4!=null&&f4.$==6){ const f9=f4.$0.Holes;return(((f_) =>(f$) => { bO(f_, f$);})(f2))(f9);} else return null;break;case 1:fZ.push(f4);f4=f4.Children;f3=0;break;} } function f1(f3){ return f0(0, f3);} function f2(f3){ return f0(1, f3);} f1(fY);return eF(new bt("New_2", fZ));}
function eF(fY){ return{$:0, $0:fY};}
function eG(fY, fZ){ return eF(e5(fY, fZ.$0));}
function eH(fY, fZ){ return eF(e6(fY.$0, fZ.$0));}
function eI(fY){ return e7(fY.$0);}
function eJ(fY, fZ){ return eF(e8(fY.$0, fZ.$0));}
function eK(){ return eW.UseAnimations;}
function eL(fY){ return eN(bJ((fZ) => fZ.$==1?u0033(fZ.$0):null, eY(fY.$0)));}
function eM(fY){ bO((fZ) => { if(fZ.$==0)fZ.$0();}, eY(fY.$0));}
function eN(fY){ const fZ=ez(fY);const f0=p(fZ);if(f0===0)return eP();else if(f0===1)return m(fZ, 0);else { const f1=bB(by((f3) => f3.Duration, fZ));const f2=bQ((f3) => eR(f1, f3), fZ);return eQ(f1, (f3) => { bO((f4) => { f4.Compute(f3);}, f2);});} }
function eO(fY){ return fY.$0;}
function eP(fY){ return eQ(0, () => fY);}
function eQ(fY, fZ){ return{Compute:fZ, Duration:fY};}
function eR(fY, fZ){ const f0=fZ.Compute;const f1=fZ.Duration;const f2=fI(() => fZ.Compute(fZ.Duration));return{Compute:(f3) => f3>=f1?f2.f():f0(f3), Duration:fY};}
let eS=fP((fY) => class fZ { static { eS=fY(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
function eT(fY){ let fZ=[];let f0;for(var f1 in fY)fZ.push.apply(fZ, fY[f1]);return fZ;}
let eU=fP((fY) => class fZ { static { eU=fY(this);} static counter;static { this.counter=0;} });
let eV=fP((fY) => class fZ { static { eV=fY(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const f0=[1, "<table>", "</table>"];let f1=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", f0], ["tbody", f0], ["tfoot", f0], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=f1;this.defaultWrap=[0, "", ""];} });
let eW=fP((fY) => class fZ { static { eW=fY(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=e4.Custom((f0) => { const f1=f0*f0;return 3*f1-2*(f1*f0);});this.UseAnimations=true;} });
function eX(fY, fZ){ return fY.$==0?fZ:fZ.$==0?fY:{$:2, $0:fY, $1:fZ};}
function eY(fY){ const fZ=[];function f0(f1){ while(true){ if(f1.$==1)return fZ.push(f1.$0);else if(f1.$==2){ const f2=f1.$1;const f3=f1.$0;f0(f3);f1=f2;} else return f1.$==3?bO((f4) => { fZ.push(f4);}, f1.$0):null;} } f0(fY);return fZ.slice(0);}
function eZ(fY){ const fZ=ez(fY);return ex(e0(), eX, fZ);}
function e0(){ return fL.Empty;}
let e1=fP((fY) => class fZ extends k { static { e1=fY(this);} push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(f0){ return dL();} NGetEnterAnim(f0){ return dL();} NGetChangeAnim(f0){ return dL();} NSync(f0){ if(this.dirty){(this.push(f0))(this.value);this.dirty=false;} } constructor(f0, f1){ super();this.push=f1;this.value=void 0;this.dirty=false;this.updates=db((f2) => { this.value=f2;this.dirty=true;}, f0);} });
let e2=fP((fY) => { fS(Error);return class fZ extends Error { static { e2=fY(this);} static New(){ return new this("New");} static New_1(f0){ return new this("New_1", f0);} constructor(f0, f1){ if(f0=="New"){ f0="New_1";f1="The given key was not present in the dictionary.";} if(f0=="New_1"){ const f2=f1;super(f2);} } };});
let e3=fP((fY) => class fZ { static { e3=fY(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(ge) =>[(gf) => { gf.addEventListener("change", () => ge.Get()!=gf.checked?ge.Set(gf.checked):null);}, (gf) =>(gg) => gg!=null&&gg.$==1?void(gf.checked=gg.$0):null, db(u0033, ge.View)];this.StringSet=(ge) =>(gf) => { ge.value=gf;};this.StringGet=(ge) => u0033(ge.value);const f0=fc();const f1=fb();this.StringApply=(ge) => fa(f0, f1, ge);this.StringListSet=(ge) =>(gf) => { const gg=ge.options;for(let gh=0, gi=gg.length-1;gh<=gi;gh++)((() => { const gj=gg.item(gh);gj.selected=dC(gj.value, gf);})());};this.StringListGet=(ge) => { const gf=ge.selectedOptions;return u0033(bS(bz(() => bA((gg) =>[gf.item(gg).value], j(0, gf.length-1)))));};const f2=fe();const f3=fd();this.StringListApply=(ge) => fa(f2, f3, ge);this.DateTimeSetUnchecked=(ge) =>(gf) => { ge.value=(new Date(gf)).toLocaleString();};this.DateTimeGetUnchecked=(ge) => { let gf;let gg;const gh=ge.value;if(fy(gh))return u0033(-8640000000000000);else { gf=0;const gi=fG(gh);let gj=gi!=null&&gi.$==1&&(gf=gi.$0,true);gg=[gj, gf];return gg[0]?u0033(gg[1]):null;} };const f4=fg();const f5=ff();this.DateTimeApplyUnchecked=(ge) => fa(f4, f5, ge);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(ge) => { const gf=ge.files;return u0033(bS(bz(() => by((gg) => gf.item(gg), j(0, gf.length-1)))));};const f6=fj();const f7=fi();this.FileApplyUnchecked=(ge) => fh(f6, f7, ge);this.IntSetUnchecked=(ge) =>(gf) => { ge.value=String(gf);};this.IntGetUnchecked=(ge) => { const gf=ge.value;if(fy(gf))return u0033(0);else { const gg=+gf;return gg!==gg>>0?null:u0033(gg);} };const f8=fl();const f9=fk();this.IntApplyUnchecked=(ge) => fa(f8, f9, ge);this.IntSetChecked=(ge) =>(gf) => { const gg=gf.Input;return ge.value!=gg?void(ge.value=gg):null;};this.IntGetChecked=(ge) => { let gf;let gg;const gh=ge.value;if(fy(gh))gf=(ge.checkValidity?ge.checkValidity():true)?fz.Blank(gh):fz.Invalid(gh);else { const gi=(gg=0,[b_(gh, {get:() => gg, set:(gj) => { gg=gj;}}), gg]);gf=gi[0]?fz.Valid(gi[1], gh):fz.Invalid(gh);} return u0033(gf);};const f_=fn();const f$=fm();this.IntApplyChecked=(ge) => fa(f_, f$, ge);this.FloatSetUnchecked=(ge) =>(gf) => { ge.value=String(gf);};this.FloatGetUnchecked=(ge) => { const gf=ge.value;if(fy(gf))return u0033(0);else { const gg=+gf;return isNaN(gg)?null:u0033(gg);} };const ga=fp();const gb=fo();this.FloatApplyUnchecked=(ge) => fa(ga, gb, ge);this.FloatSetChecked=(ge) =>(gf) => { const gg=gf.Input;return ge.value!=gg?void(ge.value=gg):null;};this.FloatGetChecked=(ge) => { let gf;const gg=ge.value;if(fy(gg))gf=(ge.checkValidity?ge.checkValidity():true)?fz.Blank(gg):fz.Invalid(gg);else { const gh=+gg;gf=isNaN(gh)?fz.Invalid(gg):fz.Valid(gh, gg);} return u0033(gf);};const gc=fr();const gd=fq();this.FloatApplyChecked=(ge) => fa(gc, gd, ge);} });
let e4=fP((fY) => class fZ extends k { static { e4=fY(this);} transformTime;static Custom(f0){ return new fZ(f0);} constructor(f0){ super();this.transformTime=f0;} });
function e5(fY, fZ){ return new bt("New_2", bR(fY, e7(fZ)));}
function e6(fY, fZ){ const f0=new bt("New_2", e7(fZ));f0.ExceptWith(e7(fY));return f0;}
function e7(fY){ const fZ=bW(fY.Count, void 0);fY.CopyTo(fZ, 0);return fZ;}
function e8(fY, fZ){ const f0=new bt("New_2", e7(fY));f0.IntersectWith(e7(fZ));return f0;}
function e9(fY){ return fY.$==1?fY.$0:e$();}
function e_(fY){ return fY.$==1?fY.$1:e$();}
function e$(){ return h("The input list was empty.");}
function fa(fY, fZ, f0){ let f1;f1=null;return[(f2) => { const f3=() => { f0.UpdateMaybe((f4) => { let f5;f1=fY(f2);return f1!=null&&f1.$==1&&(!v(f1.$0, f4)&&(f5=[f1, f1.$0],true))?f5[0]:null;});};f2.addEventListener("change", f3);f2.addEventListener("input", f3);f2.addEventListener("keypress", f3);}, (f2) => { const f3=fZ(f2);return(f4) => f4==null?null:f3(f4.$0);}, db((f2) => { let f3;return f1!=null&&f1.$==1&&(v(f1.$0, f2)&&(f3=f1.$0,true))?null:u0033(f2);}, f0.View)];}
function fb(){ return e3.StringSet;}
function fc(){ return e3.StringGet;}
function fd(){ return e3.StringListSet;}
function fe(){ return e3.StringListGet;}
function ff(){ return e3.DateTimeSetUnchecked;}
function fg(){ return e3.DateTimeGetUnchecked;}
function fh(fY, fZ, f0){ let f1;f1=null;return[(f2) => { f2.addEventListener("change", () => { f0.UpdateMaybe((f3) => { let f4;f1=fY(f2);return f1!=null&&f1.$==1&&(f1.$0!==f3&&(f4=[f1, f1.$0],true))?f4[0]:null;});});}, (f2) => { const f3=fZ(f2);return(f4) => f4==null?null:f3(f4.$0);}, db((f2) => { let f3;return f1!=null&&f1.$==1&&(v(f1.$0, f2)&&(f3=f1.$0,true))?null:u0033(f2);}, f0.View)];}
function fi(){ return e3.FileSetUnchecked;}
function fj(){ return e3.FileGetUnchecked;}
function fk(){ return e3.IntSetUnchecked;}
function fl(){ return e3.IntGetUnchecked;}
function fm(){ return e3.IntSetChecked;}
function fn(){ return e3.IntGetChecked;}
function fo(){ return e3.FloatSetUnchecked;}
function fp(){ return e3.FloatGetUnchecked;}
function fq(){ return e3.FloatSetChecked;}
function fr(){ return e3.FloatGetChecked;}
function fs(){ return e3.StringApply;}
function ft(){ return e3.FloatApplyUnchecked;}
function fu(){ return e3.BoolCheckedApply;}
function fv(){ return e3.DateTimeApplyUnchecked;}
function fw(){ return e3.FileApplyUnchecked;}
function fx(){ return e3.StringListApply;}
function fy(fY){ return ev(fF, fY);}
let fz=fP((fY) => class fZ { static { fz=fY(this);} get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(f0){ return fW(fZ, {$:2, $0:f0});} static Invalid(f0){ return fW(fZ, {$:1, $0:f0});} static Valid(f0, f1){ return fW(fZ, {$:0, $0:f0, $1:f1});} });
function fA(fY, fZ){ let f0;if(fZ!=null&&fZ.$==1){ const f1=[];f0=fZ.$0[0].nextSibling;while(f0!==fZ.$0[1]){ f1.push(f0);f0=f0.nextSibling;} return fE(f1);} else { let f2=fY.childNodes.length;const f3=fY.childNodes;let f4=bX(f2, (f5) => f3[f5]);return fE(f4);} }
function fB(fY, fZ){ const f0=fY.$0;return fE(bR((f1) => bV((f2) =>!(f1===f2), f0), fZ.$0));}
function fC(fY, fZ){ bO(fY, fZ.$0);}
function fD(fY){ const fZ=[];function f0(f1){ while(true){ if(f1!=null&&f1.$==2){ const f2=f1.$0;f1=f2.Current;} else if(f1!=null&&f1.$==1)return fZ.push(f1.$0.El);else if(f1==null)return null;else if(f1!=null&&f1.$==5)return fZ.push(f1.$0);else if(f1!=null&&f1.$==4)return fZ.push(f1.$0.Text);else if(f1!=null&&f1.$==6){ const f3=f1.$0.Els;return(((f6) =>(f7) => { bO(f6, f7);})((f6) => { if(f6==null||f6.constructor===Object)f0(f6);else fZ.push(f6);}))(f3);} else { const f4=f1.$1;const f5=f1.$0;f0(f5);f1=f4;} } } f0(fY.Children);return fE(ez(fZ));}
function fE(fY){ return{$:0, $0:fY};}
function fF(fY){ return fY.match(new RegExp("\\s"))!==null;}
function fG(fY){ const fZ=Date.parse(fY);return isNaN(fZ)?null:u0033(fZ);}
function fH(fY, fZ, f0, f1){ const f2=+fY;const f3=f2===f2-f2%1&&f2>=fZ&&f2<=f0;if(f3)f1.set(f2);return f3;}
function fI(fY){ return fN(false, fY, fJ);}
function fJ(){ const fY=this.v();this.c=true;this.v=fY;this.f=fK;return fY;}
function fK(){ return this.v;}
let fL=fP((fY) => class fZ { static { fL=fY(this);} static Empty;static { this.Empty={$:0};} });
function fM(fY){ fY.splice(0, p(fY));}
function fN(fY, fZ, f0){ return{c:fY, v:fZ, f:f0};}
fX(() => { b();});
fO();

