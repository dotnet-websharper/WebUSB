import { Start as fN } from "./WebSharper.Core.JavaScript/Runtime.js"
import { MarkResizable as fO, SetOptional as fP, Lazy as fQ, GetOptional as fR, CreateFuncWithArgs as fS, DeleteEmptyFields as fT, Create as fU, OnLoad as fV } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(fW){ return"Dispose"in fW;}
function b(){ const fW=new p("New_1");const fX=(fW.h.push(new H("status", c().View)),fW);const fY=(fX.h.push(s(fX.k, "connectusb", () => fX.i, () => { const f4=null;P(M(() => N(Y(d()), () => O(null))), null);})),fX);const fZ=(fY.h.push(s(fY.k, "sendusbdata", () => fY.i, () => { const f4=null;P(M(() => N(Y(e()), () => O(null))), null);})),fY);const f0=t(fZ.k, fZ.h, []);const f1=new k(f0[1], F(f0[0]));let f2=(fZ.i=f1,f1);const f3=f2.Doc;u0033("");bk.RunById("main", f3);}
function c(){ return I.statusMessage;}
function d(){ const fW=null;return new Promise((fX) => { fX(new Promise((fY) => { fY(globalThis.navigator.usb.requestDevice({filters:[]}).then((fZ) => fZ.open().then(() => fZ.selectConfiguration(1).then(() => fZ.claimInterface(0).then(() => { f().Set(fZ);c().Set("Connected to USB device: $"+String(f().Get().productName));const f0=f().Get();(((f1) => f1("USB Device Connected: "+String(f0)))((f1) => { console.log(f1);}));return Promise.resolve(null);})))));})["catch"]((fY) => { const fZ=Z(fY);c().Set("Connection Failed: "+String(fZ.message));(((f0) => f0("USB Connection Error: "+String(fZ)))((f0) => { console.log(f0);}));return Promise.resolve(null);}));});}
function e(){ const fW=null;return new Promise((fX) => { fX(f().Get()==null?(c().Set("Please connect a USB device first."),Promise.resolve(null)):new Promise((fY) => { const fZ=eval("new TextEncoder()").encode("Hello USB!");let f0=f().Get().transferOut(1, fZ).then(() => { c().Set("Data sent to USB device.");(((f1) => f1("Data sent: "+String(fZ)))((f1) => { console.log(f1);}));return Promise.resolve(null);});fY(f0);})["catch"]((fY) => { const fZ=Z(fY);c().Set("Data transfer failed: "+String(fZ.message));(((f0) => f0("USB Data Transfer Error: "+String(fZ)))((f0) => { console.log(f0);}));return Promise.resolve(null);}));});}
function f(){ return I.device;}
function g(fW){ throw new Error(fW);}
function h(fW){ return[fW.K, fW.V];}
function i(fW, fX){ const fY=1+fX-fW;return fY<=0?[]:bC(fY, (fZ) => fZ+fW);}
class j { Equals(fW){ return this===fW;} GetHashCode(){ return -1;} }
class k extends j { doc;allVars;anchorRoot;get Doc(){ return this.doc;} SetAnchorRoot(fW){ this.anchorRoot=fW;} constructor(fW, fX){ super();this.doc=fX;this.allVars=fW.$==0?fW.$0:g("Should not happen");this.anchorRoot=null;} }
function l(fW, fX){ n(fW, fX);return fW[fX];}
function m(fW, fX, fY){ n(fW, fX);fW[fX]=fY;}
function n(fW, fX){ if(fX<0||fX>=fW.length)g("Index was outside the bounds of the array.");}
function o(fW){ return fW.dims===2?fW.length*fW.length:fW.length;}
class p extends j { i;k;h;s;static New_1(){ return new this("New_1");} constructor(fW){ if(fW=="New_1"){ let fX;super();this.i=null;this.k=(fX=J(),String(fX));this.h=fO([]);fP(this, "s", null);} } }
class q extends j { ForTextView(){ console.warn("Content hole filled with attribute data", this.Name);return null;} AddAttribute(fW, fX){ console.warn("Var hole filled with non-Var data", this.Name);} get AsChoiceView(){ console.warn("Attribute value hole filled with non-text data", this.Name);return el("");} }
class r extends j { }
function s(fW, fX, fY, fZ){ return new K(fX, (f0) =>(f1) => { const f2=fY();f2.SetAnchorRoot(f0);return fZ({Vars:f2, Anchors:f2, Target:f0, Event:f1});});}
function t(fW, fX, fY){ const fZ=new bl("New_5");const f0=new bs("New_3");const f1=cA(fX);try { while(f1.MoveNext()){ const f2=f1.Current;const f3=f2.Name;f0.SAdd(f3);fZ.set_Item(f3, f2);} } finally { if(typeof f1=="object"&&a(f1))f1.Dispose();} return[bt(fX, bI((f4) => { const f5=f4[0];const f6=f4[1];const f7=f4[2];if(f0.Contains(f5))return null;else { const f8=f6===0?bX.GetOrAddHoleFor(fW, f5, () => { const f9=f7==null?null:u0032(f7.$0);let f_=bm.Create_1(f9==null?"":f9.$0);return new bY(f5, f_);}):f6===1?bX.GetOrAddHoleFor(fW, f5, () => { const f9=f7==null?null:u0032(f7.$0);let f_=bm.Create_1(f9==null?0:f9.$0);return new bZ(f5, f_);}):f6===2?bX.GetOrAddHoleFor(fW, f5, () => { const f9=f7==null?null:u0032(f7.$0);let f_=bm.Create_1(f9==null?false:f9.$0);return new b0(f5, f_);}):f6===3?bX.GetOrAddHoleFor(fW, f5, () => { const f9=f7==null?null:u0032(f7.$0);let f_=bm.Create_1(f9==null?-8640000000000000:f9.$0);return new b1(f5, f_);}):f6===4?bX.GetOrAddHoleFor(fW, f5, () => new b2(f5, bm.Create_1([]))):f6===5?bX.GetOrAddHoleFor(fW, f5, () => new b3(f5, bm.Create_1(u0032(globalThis.document.querySelector("[ws-dom="+f5+"]"))))):f6===6?bX.GetOrAddHoleFor(fW, f5, () => { const f9=f7==null?null:u0032(f7.$0);let f_=bm.Create_1(f9==null?[]:f9.$0);return new b4(f5, f_);}):g("Invalid value type");fZ.set_Item(f5, f8);return u0032(f8);} }, fY)), {$:0, $0:fZ}];}
function u(fW, fX){ if(fW===fX)return true;else { const fY=typeof fW;if(fY=="object"){ if(fW===null||fW===void 0||fX===null||fX===void 0||!u(typeof fX, "object"))return false;else if("Equals"in fW)return fW.Equals(fX);else if("Equals"in fX)return false;else if(fW instanceof Array&&fX instanceof Array)return v(fW, fX);else if(fW instanceof Date&&fX instanceof Date)return w(fW, fX);else { const fZ=[true];let f0;for(var f2 in fW)if(((f3) => { fZ[0]=!fW.hasOwnProperty(f3)||fX.hasOwnProperty(f3)&&u(fW[f3], fX[f3]);return!fZ[0];})(f2))break;if(fZ[0]){ let f1;for(var f3 in fX)if(((f4) => { fZ[0]=!fX.hasOwnProperty(f4)||fW.hasOwnProperty(f4);return!fZ[0];})(f3))break;} return fZ[0];} } else return fY=="function"&&("$Func"in fW?fW.$Func===fX.$Func&&fW.$Target===fX.$Target:"$Invokes"in fW&&"$Invokes"in fX&&v(fW.$Invokes, fX.$Invokes));} }
function v(fW, fX){ let fY;let fZ;if(o(fW)===o(fX)){ fY=true;fZ=0;while(fY&&fZ<o(fW)){!u(l(fW, fZ), l(fX, fZ))?fY=false:void 0;fZ=fZ+1;} return fY;} else return false;}
function w(fW, fX){ return fW.getTime()===fX.getTime();}
function x(fW){ const fX=typeof fW;return fX=="function"?0:fX=="boolean"?fW?1:0:fX=="number"?fW:fX=="string"?y(fW):fX=="object"?fW==null?0:fW instanceof Array?z(fW):A(fW):0;}
function y(fW){ let fX;if(fW===null)return 0;else { fX=5381;for(let fY=0, fZ=fW.length-1;fY<=fZ;fY++)fX=B(fX, fW[fY].charCodeAt());return fX;} }
function z(fW){ let fX=-34948909;for(let fY=0, fZ=o(fW)-1;fY<=fZ;fY++)fX=B(fX, x(l(fW, fY)));return fX;}
function A(fW){ if("GetHashCode"in fW)return fW.GetHashCode();else { const fX=[0];let fY;for(var fZ in fW)if(((f0) => { fX[0]=B(B(fX[0], y(f0)), x(fW[f0]));return false;})(fZ))break;return fX[0];} }
function B(fW, fX){ return(fW<<5)+fW+fX;}
function C(fW, fX){ if(fW===fX)return 0;else { const fY=typeof fW;switch(fY=="function"?1:fY=="boolean"?2:fY=="number"?2:fY=="string"?2:fY=="object"?3:0){ case 0:return typeof fX=="undefined"?0:-1;case 1:return g("Cannot compare function values.");case 2:return fW<fX?-1:1;case 3:if(fW===null)return -1;else if(fX===null)return 1;else if("CompareTo"in fW)return fW.CompareTo(fX);else if("CompareTo0"in fW)return fW.CompareTo0(fX);else if(fW instanceof Array&&fX instanceof Array)return D(fW, fX);else if(fW instanceof Date&&fX instanceof Date)return E(fW, fX);else { const fZ=[0];let f0;for(var f2 in fW)if(((f3) =>!fW.hasOwnProperty(f3)?false:!fX.hasOwnProperty(f3)?(fZ[0]=1,true):(fZ[0]=C(fW[f3], fX[f3]),fZ[0]!==0))(f2))break;if(fZ[0]===0){ let f1;for(var f3 in fX)if(((f4) =>!fX.hasOwnProperty(f4)?false:!fW.hasOwnProperty(f4)&&(fZ[0]=-1,true))(f3))break;} return fZ[0];} break;} } }
function D(fW, fX){ let fY;let fZ;if(o(fW)<o(fX))return -1;else if(o(fW)>o(fX))return 1;else { fY=0;fZ=0;while(fY===0&&fZ<o(fW)){ fY=C(l(fW, fZ), l(fX, fZ));fZ=fZ+1;} return fY;} }
function E(fW, fX){ return C(fW.getTime(), fX.getTime());}
function F(fW){ u0033("index");return fW?u0034("index", u0032("main"), fW):void 0;}
class G extends q { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} get AsChoiceView(){ return el(this.fillWith);} constructor(fW, fX){ super();this.name=fW;this.fillWith=fX;} }
class H extends q { name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0032(this.fillWith);} get AsChoiceView(){ return em(this.fillWith);} constructor(fW, fX){ super();this.name=fW;this.fillWith=fX;} }
let I=fQ((fW) => class fX { static { I=fW(this);} static device;static statusMessage;static { this.statusMessage=bm.Create_1("Waiting for connection...");this.device=bm.Create_1(void 0);} });
function J(){ return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]", "g"), (fW) => { const fX=Math.random()*16|0;const fY=fW=="x"?fX:fX&3|8;return fY.toString(16);});}
class K extends q { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fW, fX){ super();this.name=fW;this.fillWith=fX;} }
function L(fW){ const fX={};const fY=cA(fW);try { while(fY.MoveNext()){ const fZ=fY.Current;fX[fZ[0]]=fZ[1];} } finally { if(typeof fY=="object"&&a(fY))fY.Dispose();} return fX;}
function M(fW){ return(fX) => { try {(fW())(fX);} catch(fY){ fX.k(bo(fY));} };}
function N(fW, fX){ return Q((fY) => { fW(bn((fZ) => { if(fZ.$==0){ const f0=fZ.$0;U().Fork(() => { try {(fX(f0))(fY);} catch(f1){ fY.k(bo(f1));} });} else U().Fork(() => { fY.k(fZ);});}, fY.ct));});}
function O(fW){ return(fX) => { fX.k(bp(fW));};}
function P(fW, fX){ const fY=(R())[0];const fZ=fX==null?fY:fX.$0;if(!fZ.c)fW(bn((f0) => { if(f0.$==1)S(f0.$0);}, fZ));}
function Q(fW){ return(fX) => { if(fX.ct.c)T(fX);else fW(fX);};}
function R(){ return cy.defCTS;}
function S(fW){ console.log("WebSharper: Uncaught asynchronous exception", fW);}
function T(fW){ fW.k(bq(new c7("New", fW.ct)));}
function U(){ return cy.scheduler;}
function V(fW){ return(fX) => { const fY=[false];const fZ=(f0) => { if(fY[0])g("A continuation provided by Async.FromContinuations was invoked multiple times");else { fY[0]=true;U().Fork(f0);} };fW((f0) => { fZ(() => { fX.k(bp(f0));});}, (f0) => { fZ(() => { fX.k(bo(f0));});}, (f0) => { fZ(() => { fX.k(bq(f0));});});};}
function W(){ return cy.Zero;}
function X(fW, fX){ const fY=(R())[0];const fZ=fX==null?fY:fX.$0;U().Fork(() => { if(!fZ.c)fW(bn((f0) => { if(f0.$==1)S(f0.$0);}, fZ));});}
function Y(fW){ return V((fX, fY) => { fW.then(fX, (fZ) => fY(Z(fZ)));});}
function Z(fW){ return fW instanceof Error?fW:new cx(fW);}
function u0030(fW){ let fX=[];let fY;for(var fZ in fW)fX.push(fW[fZ]);return fX;}
class u0031 extends j { }
function u0032(fW){ return{$:1, $0:fW};}
function u0033(fW){!u0035()?(u0036(true),u0037(globalThis.document.body, "")):void 0;u0038().set_Item(fW, u0039(""));}
function u0034(fW, fX, fY){ let fZ;const f0=(fZ=null,[u0039(fW).TryGetValue(fX==null?"":fX.$0, {get:() => fZ, set:(f1) => { fZ=f1;}}), fZ]);return f0[0]?$(f0[1].cloneNode(true), fY):(console.warn("Local template doesn't exist", fX),bk.Empty);}
function u0035(){ return cF.LocalTemplatesLoaded;}
function u0036(fW){ cF.LocalTemplatesLoaded=fW;}
function u0037(fW, fX){ const fY=u0039(fX);const fZ=new bl("New_5");const f0=fW.querySelectorAll("[ws-template]");for(let ga=0, gb=f0.length-1;ga<=gb;ga++){ const f1=f0[ga];const f2=f1.getAttribute("ws-template").toLowerCase();f1.removeAttribute("ws-template");fZ.set_Item(f2, ba(f1));} const f3=fW.querySelectorAll("[ws-children-template]");for(let gc=0, gd=f3.length-1;gc<=gd;gc++){ const f4=f3[gc];const f5=f4.getAttribute("ws-children-template").toLowerCase();f4.removeAttribute("ws-children-template");fZ.set_Item(f5, bb(f4));} const f6=fW.querySelectorAll("template[id]");for(let ge=0, gf=f6.length-1;ge<=gf;ge++){ const f7=f6[ge];fZ.set_Item(f7.getAttribute("id").toLowerCase(), bc(f7));} const f8=fW.querySelectorAll("template[name]");for(let gg=0, gh=f8.length-1;gg<=gh;gg++){ const f9=f8[gg];fZ.set_Item(f9.getAttribute("name").toLowerCase(), bc(f9));} const f_=new bs("New_3");function f$(gi){ if(!fY.ContainsKey(gi)){ let gj;const gk=(gj=null,[fZ.TryGetValue(gi, {get:() => gj, set:(gl) => { gj=gl;}}), gj]);if(gk[0]){ f_.SAdd(gi);fZ.RemoveKey(gi);bd(fX, u0032(gi), gk[1], u0032(f$));} else console.warn(f_.Contains(gi)?"Encountered loop when instantiating "+gi:"Local template does not exist: "+gi);} } while(fZ.count>0)f$(bu(fZ.Keys));}
function u0038(){ return cF.LoadedTemplates;}
function u0039(fW){ let fX;const fY=(fX=null,[u0038().TryGetValue(fW, {get:() => fX, set:(f0) => { fX=f0;}}), fX]);if(fY[0])return fY[1];else { const fZ=new bl("New_5");u0038().set_Item(fW, fZ);return fZ;} }
function $(fW, fX){ let fY;const fZ=be(fW, bt(fX, bf().Values));const f0=fZ[1];const f1=fZ[0];const f2=f1.Els;return!u(f2, null)&&f2.length===1&&(l(f2, 0)instanceof Node&&(u(l(f2, 0).nodeType, Node.ELEMENT_NODE)&&(fY=l(f2, 0),true)))?c9.TreeNode(f1, f0):bk.Mk(b5(f1), f0);}
function ba(fW){ fW.removeAttribute("ws-template");const fX=fW.getAttribute("ws-replace");if(fX==null){ } else { fW.removeAttribute("ws-replace");const fY=fW.parentNode;if(u(fY, null)){ } else { const fZ=globalThis.document.createElement(fW.tagName);fZ.setAttribute("ws-replace", fX);fY.replaceChild(fZ, fW);} } const f0=globalThis.document.createElement("div");f0.appendChild(fW);return f0;}
function bb(fW){ const fX=globalThis.document.createElement("div");while(fW.hasChildNodes())fX.appendChild(fW.firstChild);return fX;}
function bc(fW){ const fX=globalThis.document.createElement("div");const fY=fW.content;for(let fZ=0, f0=fY.childNodes.length-1;fZ<=f0;fZ++)fX.appendChild(fY.childNodes[fZ].cloneNode(true));return fX;}
function bd(fW, fX, fY, fZ){ const f0=new bs("New_3");function f1(f8, f9){ while(true)switch(f8){ case 0:if(f9!==null){ const f_=f9.nextSibling;if(u(f9.nodeType, Node.TEXT_NODE))dg(f9);else if(u(f9.nodeType, Node.ELEMENT_NODE))f3(f9);f9=f_;} else return null;break;case 1:const f$=do_1(f9.nodeName, u0032(3), null).toLowerCase();const ga=f$.indexOf(".");const gb=ga===-1?[fW, f$]:[do_1(f$, null, u0032(ga-1)), do_1(f$, u0032(ga+1), null)];const gc=gb[1];const gd=gb[0];if(gd!=""&&!u0038().ContainsKey(gd))return dh(gc);else { if(gd==""&&fZ!=null)fZ.$0(gc);const ge=u0038().Item(gd);if(!ge.ContainsKey(gc))return dh(gc);else { const gf=ge.Item(gc);const gg=gf.cloneNode(true);const gh=new bs("New_3");const gi=new bl("New_5");const gj=f9.attributes;for(let gt=0, gu=gj.length-1;gt<=gu;gt++){ const gk=gj.item(gt).name.toLowerCase();const gl=gj.item(gt).nodeValue;let gm=gl==""?gk:gl.toLowerCase();gi.set_Item(gk, gm);if(!gh.SAdd(gk))console.warn("Hole mapped twice", gk);} for(let gv=0, gw=f9.childNodes.length-1;gv<=gw;gv++){ const gn=f9.childNodes[gv];if(u(gn.nodeType, Node.ELEMENT_NODE))if(!gh.SAdd(gn.nodeName.toLowerCase()))console.warn("Hole filled twice", gc);} const go=f9.childNodes.length===1&&u(f9.firstChild.nodeType, Node.TEXT_NODE);if(go){ const gp=di(gg, f9.firstChild.textContent, gc);const gq=((gx) =>(gy) => gx.SAdd(gy))(gh);let gr=((gx) =>(gy) => { if(gy!=null)gx(gy.$0);})((gx) => { gq(gx);});gr(gp);} dj(gg, gh);if(!go){ for(let gx=0, gy=f9.childNodes.length-1;gx<=gy;gx++){ const gs=f9.childNodes[gx];if(u(gs.nodeType, Node.ELEMENT_NODE))if(gs.hasAttributes())dk(gg, gs);else f2(gg, gs);} } dl(gg, gi);dm(gg, f9.parentNode, f9);f9.parentNode.removeChild(f9);return;} } break;} } function f2(f8, f9){ const f_=f9.nodeName.toLowerCase();const f$=(gd, ge) => { if(f_=="title"&&f9.hasChildNodes()){ const gf=dp(f9.textContent);f9.removeChild(f9.firstChild);while(gf.hasChildNodes())f9.appendChild(gf.firstChild);} f3(f9);return dm(f9, gd, ge);};bg(f8, "[ws-attr-holes]", (gd) => { const ge=ep(gd.getAttribute("ws-attr-holes"), [" "], 1);for(let gi=0, gj=ge.length-1;gi<=gj;gi++){ const gf=l(ge, gi);let gg=new RegExp("\\${"+f_+"}", "ig");let gh=gd.getAttribute(gf).replace(gg, f9.textContent);gd.setAttribute(gf, gh);} });const ga=f8.querySelector("[ws-hole="+f_+"]");if(u(ga, null)){ const gb=f8.querySelector("[ws-replace="+f_+"]");if(u(gb, null)){ const gc=f8.querySelector("slot[name="+f_+"]");return f8.tagName.toLowerCase()=="template"?(f$(gc.parentNode, gc),void gc.parentNode.removeChild(gc)):null;} else { f$(gb.parentNode, gb);gb.parentNode.removeChild(gb);return;} } else { while(ga.hasChildNodes())ga.removeChild(ga.lastChild);ga.removeAttribute("ws-hole");return f$(ga, null);} } function f3(f8){ if(!f8.hasAttribute("ws-preserve"))if(eq(f8.nodeName.toLowerCase(), "ws-"))f5(f8);else { dn(f8);f4(f8.firstChild);} } function f4(f8){ return f1(0, f8);} function f5(f8){ return f1(1, f8);} function f6(f8){ while(true){ const f9=f8.querySelector("[ws-template]");if(u(f9, null)){ const f_=f8.querySelector("[ws-children-template]");if(u(f_, null)){ const f$=f8.querySelectorAll("template[id]");for(let gf=1, gg=f$.length-1;gf<=gg;gf++){ const ga=f$[gf];if(f0.Contains(ga)){ } else { bd(fW, u0032(ga.getAttribute("id")), ga, null);f0.SAdd(ga);} } const gb=f8.querySelectorAll("template[name]");for(let gh=1, gi=gb.length-1;gh<=gi;gh++){ const gc=gb[gh];if(f0.Contains(gc)){ } else { bd(fW, u0032(gc.getAttribute("name")), gc, null);f0.SAdd(gc);} } return null;} else { const gd=f_.getAttribute("ws-children-template");f_.removeAttribute("ws-children-template");bd(fW, u0032(gd), f_, null);f8=f8;} } else { const ge=f9.getAttribute("ws-template");(bh(fW, u0032(ge), f9))(null);f8=f8;} } } const f7=(fX==null?"":fX.$0).toLowerCase();u0039(fW).set_Item(f7, fY);if(fY.hasChildNodes()){ f6(fY);f4(fY.firstChild);} }
function be(fW, fX){ let fY;const fZ=[];const f0=[];const f1=[];const f2=[];const f3=new bl("New_5");const f4=cA(fX);try { while(f4.MoveNext()){ const f5=f4.Current;f3.set_Item(f5.Name, f5);} } finally { if(typeof f4=="object"&&a(f4))f4.Dispose();} let f6=dq(fW);const f7=(ge, gf) => { const gg=dP(ge, gf);f0.push(dQ(gg));f1.push([ge, gg]);const gh=fR(gg.OnAfterRender);if(gh==null)return null;else { const gi=gh.$0;f2.push(() => { gi(ge);});return;} };const f8=(ge) => { let gf;const gg=(gf=null,[f3.TryGetValue(ge, {get:() => gf, set:(gj) => { gf=gj;}}), gf]);if(gg[0]){ const gh=gg[1];if(gh instanceof d6)return u0032(gh.Value);else if(gh instanceof G)return u0032(bk.TextNode(gh.Value));else { const gi=gh.ForTextView();return gi==null?null:u0032(bk.TextView(gi.$0));} } else return null;};bg(fW, "[ws-hole]", (ge) => { const gf=ge.getAttribute("ws-hole");ge.removeAttribute("ws-hole");while(ge.hasChildNodes())ge.removeChild(ge.lastChild);const gg=f8(gf);if(gg!=null&&gg.$==1){ const gh=gg.$0;cG(ge, gh.docNode);fZ.push(c0.New(dR(ge), gh.docNode, null, ge, c1(), null));f0.push(gh.updates);} });bg(fW, "[ws-replace]", (ge) => { const gf=f8(ge.getAttribute("ws-replace"));if(gf!=null&&gf.$==1){ const gg=gf.$0;const gh=ge.parentNode;const gi=globalThis.document.createTextNode("");gh.replaceChild(gi, ge);const gj=cL(gi, gg.docNode);f6=dq(fW);const gk=bJ((gl) => ge===gl, f6);if(gk==null){ } else m(f6, gk.$0, gg.docNode);fZ.push(c0.New(dR(gh), gg.docNode, u0032([gj, gi]), gh, c1(), null));f0.push(gg.updates);} });let f9=false;bg(fW, "slot", (ge) => { const gf=ge.getAttribute("name");const gg=gf==""||gf==null?"default":gf.toLowerCase();if(f9&&gg=="default"||!u(fW.parentElement, null)){ } else { while(ge.hasChildNodes())ge.removeChild(ge.lastChild);if(gg=="default")f9=true;const gh=f8(gg);if(gh!=null&&gh.$==1){ const gi=gh.$0;cG(ge, gi.docNode);fZ.push(c0.New(dR(ge), gi.docNode, null, ge, c1(), null));f0.push(gi.updates);} } });bg(fW, "[ws-attr]", (ge) => { let gf;const gg=ge.getAttribute("ws-attr");ge.removeAttribute("ws-attr");const gh=(gf=null,[f3.TryGetValue(gg, {get:() => gf, set:(gj) => { gf=gj;}}), gf]);if(gh[0]){ const gi=gh[1];if(gi instanceof d7)f7(ge, gi.Value);else console.warn("Attribute hole filled with non-attribute data", gg);} });bg(fW, "[ws-on]", (ge) => { f7(ge, ei.Concat(bI((gf) => { let gg;const gh=ep(gf, [":"], 1);const gi=(gg=null,[f3.TryGetValue(l(gh, 1), {get:() => gg, set:(gk) => { gg=gk;}}), gg]);if(gi[0]){ const gj=gi[1];return gj instanceof d8?u0032(d9(l(gh, 0), gj.Value)):gj instanceof K?u0032(ei.Handler(l(gh, 0), gj.Value)):(console.warn("Event hole on"+l(gh, 0)+" filled with non-event data", l(gh, 1)),null);} else return null;}, ep(ge.getAttribute("ws-on"), [" "], 1))));ge.removeAttribute("ws-on");});bg(fW, "[ws-onafterrender]", (ge) => { let gf;const gg=ge.getAttribute("ws-onafterrender");const gh=(gf=null,[f3.TryGetValue(gg, {get:() => gf, set:(gj) => { gf=gj;}}), gf]);if(gh[0]){ const gi=gh[1];if(gi instanceof ej){ ge.removeAttribute("ws-onafterrender");f7(ge, d_(gi.Value));} else if(gi instanceof ek){ ge.removeAttribute("ws-onafterrender");f7(ge, d_(gi.Value));} else console.warn("onafterrender hole filled with non-onafterrender data", gg);} });bg(fW, "[ws-var]", (ge) => { let gf;const gg=ge.getAttribute("ws-var");ge.removeAttribute("ws-var");const gh=(gf=null,[f3.TryGetValue(gg, {get:() => gf, set:(gi) => { gf=gi;}}), gf]);if(gh[0])gh[1].AddAttribute((gi) =>(gj) => f7(gi, gj), ge);});const f_=() => { bi("[ws-dom]", (ge) => { let gf;let gg;let gh;const gi=(gf=null,[f3.TryGetValue(ge.getAttribute("ws-dom").toLowerCase(), {get:() => gf, set:(gm) => { gf=gm;}}), gf]);if(gi[0]){ const gj=gi[1];if(gj instanceof b3){ const gk=gj.Value;ge.removeAttribute("ws-dom");gg=ge;const gl=new MutationObserver((gm, gn) => { bN((go) => { go.removedNodes.forEach(fS((gp) => gp[0]===gg&&go.addedNodes.length!==1?(gk.SetFinal(null),gn.disconnect()):null), null);}, gm);});if(ge.parentElement!==null)gl.observe(ge.parentElement, (gh={},gh.childList=true,gh));gk.Set(u0032(ge));c$((gm) => { if(gm!=null&&gm.$==1){ const gn=gm.$0;if(gg===gn){ } else { gg.replaceWith(gn);gg=gn;} } else { gg.remove();gl.disconnect();} }, gk.View);} } });};bg(fW, "[ws-attr-holes]", (ge) => { const gf=new RegExp(bj(), "g");const gg=ep(ge.getAttribute("ws-attr-holes"), [" "], 1);ge.removeAttribute("ws-attr-holes");for(let gh=0, gi=gg.length-1;gh<=gi;gh++)((() => { let gj;const gk=l(gg, gh);const gl=ge.getAttribute(gk);let gm=null;let gn=0;const go=[];while(gm=gf.exec(gl),gm!==null){ const gp=do_1(gl, u0032(gn), u0032(gf.lastIndex-l(gm, 0).length-1));gn=gf.lastIndex;go.push([gp, l(gm, 1)]);} const gq=do_1(gl, u0032(gn), null);gf.lastIndex=0;const gr=bO((gw, gx) =>(((gy) => { const gz=gy[0];const gA=gy[1];return(gB) => { let gC;const gD=gB[0];const gE=gB[1];const gF=(gC=null,[f3.TryGetValue(gA, {get:() => gC, set:(gH) => { gC=gH;}}), gC]);const gG=gF[0]?gF[1].AsChoiceView:el("");return gG.$==1?[gz, en.Cons(gD==""?gG.$0:da((gH) => gH+gD, gG.$0), gE)]:[gz+gG.$0+gD, gE];};})(gw))(gx), go, [gq, en.Empty]);if(gr[1].$==1){ if(gr[1].$1.$==1){ if(gr[1].$1.$1.$==1){ if(gr[1].$1.$1.$1.$==0){ const gs=gr[0];gj=d$(gk, db((gw, gx, gy) => gs+gw+gx+gy, gr[1].$0, gr[1].$1.$0, gr[1].$1.$1.$0));} else { const gt=gr[0];gj=d$(gk, da((gw) => gt+eo("", gw), dc(gr[1])));} } else { const gu=gr[0];gj=d$(gk, dd((gw, gx) => gu+gw+gx, gr[1].$0, gr[1].$1.$0));} } else if(gr[0]=="")gj=d$(gk, gr[1].$0);else { const gv=gr[0];gj=d$(gk, da((gw) => gv+gw, gr[1].$0));} } else gj=ei.Create(gk, gr[0]);return f7(ge, gj);})());});let f$=f6;const ga=f2.length==0?u0032(() => { f_();}):u0032((ge) => { f_();bN((gf) => { gf(ge);}, f2);});const gb=!u(f6, null)&&f6.length===1&&(l(f6, 0)instanceof Node&&(l(f6, 0)instanceof Element&&(fY=l(f6, 0),true)))?u0032(fY):null;let gc={Els:f$, Dirty:true, Holes:fZ, Attrs:f1, Render:ga?ga.$0:void 0, El:gb?gb.$0:void 0};let gd=fT(gc, ["Render", "El"]);return[gd, ew(c_(), de, f0)];}
function bf(){ return cF.GlobalHoles;}
function bg(fW, fX, fY){ dw(fW, fX, (fZ) => { if(fZ.closest("[ws-preserve]")==null)fY(fZ);});}
function bh(fW, fX, fY){ const fZ=ba(fY);return(f0) => { bd(fW, fX, fZ, f0);};}
function bi(fW, fX){ dx(fW, (fY) => { if(fY.closest("[ws-preserve]")==null)fX(fY);});}
function bj(){ return cF.TextHoleRE;}
class bk extends j { docNode;updates;static RunById(fW, fX){ const fY=globalThis.document.getElementById(fW);if(u(fY, null))g("invalid id: "+fW);else bk.Run(fY, fX);} static Run(fW, fX){ cG(fW, fX.docNode);bk.RunInPlace(false, fW, fX);} static get Empty(){ return bk.Mk(null, c_());} static RunInPlace(fW, fX, fY){ const fZ=cI(fX, fY.docNode);c$(dE()||dL()?dM(cJ(fW, fZ, fY.docNode)):() => { cK(fW, fZ, fY.docNode);}, fY.updates);} static Mk(fW, fX){ return new bk(fW, fX);} static TextNode(fW){ return bk.Mk(b6(globalThis.document.createTextNode(fW)), c_());} static TextView(fW){ const fX=cT();return bk.Mk(b7(fX), da((fY) => { cU(fX, fY);}, fW));} constructor(fW, fX){ super();this.docNode=fW;this.updates=fX;} }
class bl extends j { equals;hash;count;data;set_Item(fW, fX){ this.set(fW, fX);} set(fW, fX){ const fY=this.hash(fW);const fZ=this.data[fY];if(fZ==null){ this.count=this.count+1;this.data[fY]=new Array({K:fW, V:fX});} else { const f0=bJ((f1) => this.equals.apply(null, [(h(f1))[0], fW]), fZ);if(f0==null){ this.count=this.count+1;fZ.push({K:fW, V:fX});} else fZ[f0.$0]={K:fW, V:fX};} } TryGetValue(fW, fX){ const fY=this.data[this.hash(fW)];if(fY==null)return false;else { const fZ=bK((f0) => { const f1=h(f0);return this.equals.apply(null, [f1[0], fW])?u0032(f1[1]):null;}, fY);return fZ!=null&&fZ.$==1&&(fX.set(fZ.$0),true);} } ContainsKey(fW){ const fX=this.data[this.hash(fW)];return fX==null?false:bL((fY) => this.equals.apply(null, [(h(fY))[0], fW]), fX);} RemoveKey(fW){ return this.remove(fW);} get Keys(){ return new dD(this);} GetEnumerator(){ return cD(bM(u0030(this.data)));} get Values(){ return new eA(this);} remove(fW){ const fX=this.hash(fW);const fY=this.data[fX];if(fY==null)return false;else { const fZ=bQ((f0) =>!this.equals.apply(null, [(h(f0))[0], fW]), fY);return o(fZ)<fY.length&&(this.count=this.count-1,this.data[fX]=fZ,true);} } Item(fW){ return this.get(fW);} get(fW){ const fX=this.data[this.hash(fW)];return fX==null?cz():bS((fY) => { const fZ=h(fY);return this.equals.apply(null, [fZ[0], fW])?u0032(fZ[1]):null;}, fX);} static New_5(){ return new this("New_5");} static New_6(fW, fX, fY){ return new this("New_6", fW, fX, fY);} constructor(fW, fX, fY, fZ){ if(fW=="New_5"){ fW="New_6";fX=[];fY=u;fZ=x;} if(fW=="New_6"){ const f0=fX;const f1=fY;const f2=fZ;super();this.equals=f1;this.hash=f2;this.count=0;this.data=[];const f3=cA(f0);try { while(f3.MoveNext()){ const f4=f3.Current;this.set(f4.K, f4.V);} } finally { if(typeof f3=="object"&&a(f3))f3.Dispose();} } } }
let bm=fQ((fW) => class fX extends j { static { bm=fW(this);} static Create_1(fY){ return new b_(false, {s:c4(fY, [])}, fY);} static { } });
function bn(fW, fX){ return{k:fW, ct:fX};}
function bo(fW){ return{$:1, $0:fW};}
function bp(fW){ return{$:0, $0:fW};}
function bq(fW){ return{$:2, $0:fW};}
function br(fW, fX){ return{c:fW, r:fX};}
class bs extends j { equals;hash;data;count;SAdd(fW){ return this.add(fW);} Contains(fW){ const fX=this.data[this.hash(fW)];return fX==null?false:this.arrContains(fW, fX);} add(fW){ const fX=this.hash(fW);const fY=this.data[fX];return fY==null?(this.data[fX]=[fW],this.count=this.count+1,true):this.arrContains(fW, fY)?false:(fY.push(fW),this.count=this.count+1,true);} arrContains(fW, fX){ let fY=true;let fZ=0;const f0=fX.length;while(fY&&fZ<f0)if(this.equals.apply(null, [fX[fZ], fW]))fY=false;else fZ=fZ+1;return!fY;} GetEnumerator(){ return cA(eS(this.data));} ExceptWith(fW){ const fX=cA(fW);try { while(fX.MoveNext())this.Remove(fX.Current);} finally { if(typeof fX=="object"&&a(fX))fX.Dispose();} } get Count(){ return this.count;} IntersectWith(fW){ const fX=new bs("New_4", fW, this.equals, this.hash);const fY=eS(this.data);for(let f0=0, f1=fY.length-1;f0<=f1;f0++){ const fZ=fY[f0];if(!fX.Contains(fZ))this.Remove(fZ);} } Remove(fW){ const fX=this.data[this.hash(fW)];return fX==null?false:this.arrRemove(fW, fX)&&(this.count=this.count-1,true);} CopyTo(fW, fX){ const fY=eS(this.data);for(let fZ=0, f0=fY.length-1;fZ<=f0;fZ++)m(fW, fZ+fX, fY[fZ]);} arrRemove(fW, fX){ let fY=true;let fZ=0;const f0=fX.length;while(fY&&fZ<f0)if(this.equals.apply(null, [fX[fZ], fW])){ fX.splice(fZ, 1);fY=false;} else fZ=fZ+1;return!fY;} static New_3(){ return new this("New_3");} static New_4(fW, fX, fY){ return new this("New_4", fW, fX, fY);} static New_2(fW){ return new this("New_2", fW);} constructor(fW, fX, fY, fZ){ if(fW=="New_3"){ fW="New_4";fX=[];fY=u;fZ=x;} let f0;if(fW=="New_2"){ f0=fX;fW="New_4";fX=f0;fY=u;fZ=x;} if(fW=="New_4"){ const f1=fX;const f2=fY;const f3=fZ;super();this.equals=f2;this.hash=f3;this.data=[];this.count=0;const f4=cA(f1);try { while(f4.MoveNext())this.add(f4.Current);} finally { if(typeof f4=="object"&&a(f4))f4.Dispose();} } } }
function bt(fW, fX){ return{GetEnumerator:() => { const fY=cA(fW);const fZ=[true];return new cE(fY, null, (f0) => { if(f0.s.MoveNext()){ f0.c=f0.s.Current;return true;} else { const f1=f0.s;if(!u(f1, null))f1.Dispose();f0.s=null;return fZ[0]&&(fZ[0]=false,f0.s=cA(fX),f0.s.MoveNext()?(f0.c=f0.s.Current,true):(f0.s.Dispose(),f0.s=null,false));} }, (f0) => { const f1=f0.s;if(!u(f1, null))f1.Dispose();});}};}
function bu(fW){ const fX=cA(fW);try { return fX.MoveNext()?fX.Current:dA();} finally { if(typeof fX=="object"&&a(fX))fX.Dispose();} }
function bv(fW, fX, fY){ let fZ=fX;const f0=cA(fY);try { while(f0.MoveNext())fZ=fW(fZ, f0.Current);return fZ;} finally { if(typeof f0=="object"&&a(f0))f0.Dispose();} }
function bw(fW, fX){ const fY=cA(fX);try { while(fY.MoveNext())fW(fY.Current);} finally { if(typeof fY=="object"&&a(fY))fY.Dispose();} }
function bx(fW, fX){ return{GetEnumerator:() => { const fY=cA(fX);return new cE(null, null, (fZ) => fY.MoveNext()&&(fZ.c=fW(fY.Current),true), () => { fY.Dispose();});}};}
function by(fW){ return{GetEnumerator:() => cA(fW())};}
function bz(fW, fX){ return bB(bx(fW, fX));}
function bA(fW){ const fX=cA(fW);try { if(!fX.MoveNext())bD();let fY=fX.Current;while(fX.MoveNext()){ const fZ=fX.Current;if(C(fZ, fY)===1)fY=fZ;} return fY;} finally { if(typeof fX=="object"&&a(fX))fX.Dispose();} }
function bB(fW){ return{GetEnumerator:() => { const fX=cA(fW);function fY(fZ){ while(true){ const f0=fZ.s;if(u(f0, null)){ if(fX.MoveNext()){ fZ.s=cA(fX.Current);fZ=fZ;} else { fX.Dispose();return false;} } else if(f0.MoveNext()){ fZ.c=f0.Current;return true;} else { fZ.Dispose();fZ.s=null;fZ=fZ;} } } return new cE(null, null, fY, (fZ) => { const f0=fZ.s;if(!u(f0, null))f0.Dispose();if(!u(fX, null))fX.Dispose();});}};}
function bC(fW, fX){ return bE(fW, bF(fX));}
function bD(){ return g("The input sequence was empty.");}
function bE(fW, fX){ fW<0?dC():void 0;return{GetEnumerator:() => { const fY=[cA(fX)];return new cE(0, null, (fZ) => { fZ.s=fZ.s+1;if(fZ.s>fW)return false;else { const f0=fY[0];return u(f0, null)?dA():f0.MoveNext()?(fZ.c=f0.Current,fZ.s===fW?(f0.Dispose(),fY[0]=null):void 0,true):(f0.Dispose(),fY[0]=null,dA());} }, () => { const fZ=fY[0];if(!u(fZ, null))fZ.Dispose();});}};}
function bF(fW){ return{GetEnumerator:() => new cE(0, null, (fX) => { fX.c=fW(fX.s);fX.s=fX.s+1;return true;}, void 0)};}
function bG(fW, fX){ return!bH((fY) =>!fW(fY), fX);}
function bH(fW, fX){ const fY=cA(fX);try { let fZ=false;while(!fZ&&fY.MoveNext())fZ=fW(fY.Current);return fZ;} finally { if(typeof fY=="object"&&a(fY))fY.Dispose();} }
function bI(fW, fX){ const fY=[];for(let f0=0, f1=fX.length-1;f0<=f1;f0++){ const fZ=fW(fX[f0]);if(fZ==null){ } else fY.push(fZ.$0);} return fY;}
function bJ(fW, fX){ let fY=null;let fZ=0;while(fZ<fX.length&&fY==null){ fW(fX[fZ])?fY=u0032(fZ):void 0;fZ=fZ+1;} return fY;}
function bK(fW, fX){ let fY=null;let fZ=0;while(fZ<fX.length&&fY==null){ const f0=fW(fX[fZ]);if(f0!=null&&f0.$==1)fY=f0;fZ=fZ+1;} return fY;}
function bL(fW, fX){ let fY=false;let fZ=0;while(!fY&&fZ<o(fX))if(fW(fX[fZ]))fY=true;else fZ=fZ+1;return fY;}
function bM(fW){ return Array.prototype.concat.apply([], bR(fW));}
function bN(fW, fX){ for(let fY=0, fZ=fX.length-1;fY<=fZ;fY++)fW(fX[fY]);}
function bO(fW, fX, fY){ let fZ=fY;const f0=fX.length;for(let f1=1, f2=f0;f1<=f2;f1++)fZ=fW(fX[f0-f1], fZ);return fZ;}
function bP(fW, fX){ const fY=new Array(fX.length);for(let fZ=0, f0=fX.length-1;fZ<=f0;fZ++)fY[fZ]=fW(fX[fZ]);return fY;}
function bQ(fW, fX){ const fY=[];for(let fZ=0, f0=fX.length-1;fZ<=f0;fZ++)if(fW(fX[fZ]))fY.push(fX[fZ]);return fY;}
function bR(fW){ if(fW instanceof Array)return fW.slice();else if(fW instanceof en)return bT(fW);else { const fX=[];const fY=cA(fW);try { while(fY.MoveNext())fX.push(fY.Current);return fX;} finally { if(typeof fY=="object"&&a(fY))fY.Dispose();} } }
function bS(fW, fX){ const fY=bK(fW, fX);return fY==null?g("KeyNotFoundException"):fY.$0;}
function bT(fW){ const fX=[];let fY=fW;while(!(fY.$==0)){ fX.push(e8(fY));fY=e9(fY);} return fX;}
function bU(fW, fX){ let fY=true;let fZ=0;while(fY&&fZ<o(fX))if(fW(fX[fZ]))fZ=fZ+1;else fY=false;return fY;}
function bV(fW, fX){ const fY=new Array(fW);for(let fZ=0, f0=fW-1;fZ<=f0;fZ++)fY[fZ]=fX;return fY;}
function bW(fW, fX){ if(fW<0)g("Negative size given.");else null;const fY=new Array(fW);for(let fZ=0, f0=fW-1;fZ<=f0;fZ++)fY[fZ]=fX(fZ);return fY;}
let bX=fQ((fW) => class fX extends j { static { bX=fW(this);} static init;id;vars;static initialized;static instances;static GetOrAddHoleFor(fY, fZ, f0){ let f1;const f2=bX.GetHolesFor(fY);const f3=(f1=null,[f2.TryGetValue(fZ, {get:() => f1, set:(f5) => { f1=f5;}}), f1]);if(f3[0])return f3[1];else { const f4=f0();f2.set_Item(fZ, f4);return f4;} } static GetHolesFor(fY){ let fZ;const f0=(fZ=null,[bX.initialized.TryGetValue(fY, {get:() => fZ, set:(f2) => { fZ=f2;}}), fZ]);if(f0[0])return f0[1];else { const f1=new bl("New_5");bX.initialized.set_Item(fY, f1);return f1;} } static { bX.initialized=new bl("New_5");bX.instances=new bl("New_5");} });
class bY extends q { name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0032(this.fillWith.View);} AddAttribute(fW, fX){(fW(fX))(ea(this.fillWith));} get AsChoiceView(){ return em(da(String, this.fillWith.View));} constructor(fW, fX){ super();this.name=fW;this.fillWith=fX;} }
class bZ extends q { name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0032(da(String, this.fillWith.View));} AddAttribute(fW, fX){(fW(fX))(eb(this.fillWith));} get AsChoiceView(){ return em(da(String, this.fillWith.View));} constructor(fW, fX){ super();this.name=fW;this.fillWith=fX;} }
class b0 extends q { name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0032(da(String, this.fillWith.View));} AddAttribute(fW, fX){(fW(fX))(ec(this.fillWith));} get AsChoiceView(){ return em(da(String, this.fillWith.View));} constructor(fW, fX){ super();this.name=fW;this.fillWith=fX;} }
class b1 extends q { name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0032(da((fW) =>(new Date(fW)).toLocaleString(), this.fillWith.View));} AddAttribute(fW, fX){(fW(fX))(ed(this.fillWith));} get AsChoiceView(){ return em(da((fW) =>(new Date(fW)).toLocaleString(), this.fillWith.View));} constructor(fW, fX){ super();this.name=fW;this.fillWith=fX;} }
class b2 extends q { name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0032(da(String, this.fillWith.View));} AddAttribute(fW, fX){(fW(fX))(ee(this.fillWith));} get AsChoiceView(){ return em(da(String, this.fillWith.View));} constructor(fW, fX){ super();this.name=fW;this.fillWith=fX;} }
class b3 extends q { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fW, fX){ super();this.name=fW;this.fillWith=fX;} }
class b4 extends q { name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0032(da((fW) => eo(",", fW), this.fillWith.View));} AddAttribute(fW, fX){(fW(fX))(ef(this.fillWith));} get AsChoiceView(){ return em(da(String, this.fillWith.View));} constructor(fW, fX){ super();this.name=fW;this.fillWith=fX;} }
function b5(fW){ return{$:6, $0:fW};}
function b6(fW){ return{$:5, $0:fW};}
function b7(fW){ return{$:4, $0:fW};}
class b8 { }
function b9(fW, fX){ return fG(fW, -2147483648, 2147483647, fX);}
class b_ extends r { isConst;current;snap;view;id;get View(){ return this.view;} Set(fW){ if(this.isConst)(((fX) => fX("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fX) => { console.log(fX);}));else { dO(this.snap);this.current=fW;this.snap={s:c4(fW, [])};} } Get(){ return this.current;} SetFinal(fW){ if(this.isConst)(((fX) => fX("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fX) => { console.log(fX);}));else { dO(this.snap);this.isConst=true;this.current=fW;this.snap={s:c5(fW)};} } UpdateMaybe(fW){ const fX=fW(this.Get());if(fX!=null&&fX.$==1)this.Set(fX.$0);} constructor(fW, fX, fY){ super();this.isConst=fW;this.current=fY;this.snap=fX;this.view=() => this.snap;this.id=c1();} }
function b$(fW, fX, fY){ const fZ=fW.s;if(fZ==null)fY();else fZ!=null&&fZ.$==2?(fZ.$1.push(fY),fX(fZ.$0)):fZ!=null&&fZ.$==3?(fZ.$0.push(fX),fZ.$1.push(fY)):fX(fZ.$0);}
function ca(fW, fX){ const fY=fX.s;if(fY!=null&&fY.$==0)return{s:c5(fW(fY.$0))};else { const fZ={s:c6([], [])};ch(fX, (f0) => { ci(fZ, fX, fW(f0));}, fZ);return fZ;} }
function cb(fW, fX, fY, fZ){ const f0=fX.s;const f1=fY.s;const f2=fZ.s;if(f0!=null&&f0.$==0)return f1!=null&&f1.$==0?f2!=null&&f2.$==0?{s:c5(fW(f0.$0, f1.$0, f2.$0))}:cj(fW, f0.$0, f1.$0, fZ):f2!=null&&f2.$==0?ck(fW, f0.$0, f2.$0, fY):cl(fW, f0.$0, fY, fZ);else if(f1!=null&&f1.$==0)return f2!=null&&f2.$==0?cm(fW, f1.$0, f2.$0, fX):cn(fW, f1.$0, fX, fZ);else if(f2!=null&&f2.$==0)return co(fW, f2.$0, fX, fY);else { const f3={s:c6([], [])};const f4=() => { const f5=f3.s;if(!(f5!=null&&f5.$==0||f5!=null&&f5.$==2)){ const f6=cp(fX);const f7=cp(fY);const f8=cp(fZ);if(f6!=null&&f6.$==1)if(f7!=null&&f7.$==1)if(f8!=null&&f8.$==1)if(f6.$0[1]&&f7.$0[1]&&f8.$0[1])cq(f3, fW(f6.$0[0], f7.$0[0], f8.$0[0]));else cr(f3, fW(f6.$0[0], f7.$0[0], f8.$0[0]));} };ch(fX, f4, f3);ch(fY, f4, f3);ch(fZ, f4, f3);return f3;} }
function cc(fW){ const fX=bR(fW);if(fX.length==0)return{s:c5([])};else { const fY={s:c6([], [])};const fZ=[o(fX)-1];const f0=() => { if(fZ[0]===0){ const f1=bP((f2) => { const f3=f2.s;return f3!=null&&f3.$==0?f3.$0:f3!=null&&f3.$==2?f3.$0:g("value not found by View.Sequence");}, fX);if(bU((f2) => { const f3=f2.s;return f3!=null&&f3.$==0;}, fX))cq(fY, f1);else cr(fY, f1);} else fZ[0]=fZ[0]-1;};bN((f1) => { ch(f1, f0, fY);}, fX);return fY;} }
function cd(fW, fX, fY){ const fZ=fX.s;const f0=fY.s;if(fZ!=null&&fZ.$==0)return f0!=null&&f0.$==0?{s:c5(fW(fZ.$0, f0.$0))}:cs(fW, fZ.$0, fY);else if(f0!=null&&f0.$==0)return ct(fW, f0.$0, fX);else { const f1={s:c6([], [])};const f2=() => { const f3=f1.s;if(!(f3!=null&&f3.$==0||f3!=null&&f3.$==2)){ const f4=cp(fX);const f5=cp(fY);if(f4!=null&&f4.$==1)if(f5!=null&&f5.$==1)if(f4.$0[1]&&f5.$0[1])cq(f1, fW(f4.$0[0], f5.$0[0]));else cr(f1, fW(f4.$0[0], f5.$0[0]));} };ch(fX, f2, f1);ch(fY, f2, f1);return f1;} }
function ce(fW, fX){ const fY=fW.s;const fZ=fX.s;if(fY!=null&&fY.$==0)return fZ!=null&&fZ.$==0?{s:c5(null)}:fX;else if(fZ!=null&&fZ.$==0)return fW;else { const f0={s:c6([], [])};const f1=() => { const f2=f0.s;if(!(f2!=null&&f2.$==0||f2!=null&&f2.$==2)){ const f3=cp(fW);const f4=cp(fX);if(f3!=null&&f3.$==1)if(f4!=null&&f4.$==1)if(f3.$0[1]&&f4.$0[1])cq(f0, null);else cr(f0, null);} };ch(fW, f1, f0);ch(fX, f1, f0);return f0;} }
function cf(fW){ const fX=fW.s;if(fX==null)return fW;else if(fX!=null&&fX.$==2){ const fY={s:c4(fX.$0, [])};cu(fW, fY);return fY;} else if(fX!=null&&fX.$==3){ const fZ={s:c6([], [])};ch(fW, (f0) => { ci(fZ, fW, f0);}, fZ);return fZ;} else return fW;}
function cg(fW, fX){ const fY=fW.s;if(fY==null)fX();else fY!=null&&fY.$==2?fY.$1.push(fX):fY!=null&&fY.$==3?fY.$1.push(fX):void 0;}
function ch(fW, fX, fY){ const fZ=fW.s;if(fZ==null)dO(fY);else fZ!=null&&fZ.$==2?(cv(fZ.$1, fY),fX(fZ.$0)):fZ!=null&&fZ.$==3?(fZ.$0.push(fX),cv(fZ.$1, fY)):fX(fZ.$0);}
function ci(fW, fX, fY){ const fZ=fX.s;if(fZ!=null&&fZ.$==0)cq(fW, fY);else cr(fW, fY);}
function cj(fW, fX, fY, fZ){ return ca((f0) => fW(fX, fY, f0), fZ);}
function ck(fW, fX, fY, fZ){ return ca((f0) => fW(fX, f0, fY), fZ);}
function cl(fW, fX, fY, fZ){ return cd((f0, f1) => fW(fX, f0, f1), fY, fZ);}
function cm(fW, fX, fY, fZ){ return ca((f0) => fW(f0, fX, fY), fZ);}
function cn(fW, fX, fY, fZ){ return cd((f0, f1) => fW(f0, fX, f1), fY, fZ);}
function co(fW, fX, fY, fZ){ return cd((f0, f1) => fW(f0, f1, fX), fY, fZ);}
function cp(fW){ const fX=fW.s;return fX!=null&&fX.$==0?u0032([fX.$0, true]):fX!=null&&fX.$==2?u0032([fX.$0, false]):null;}
function cq(fW, fX){ const fY=fW.s;if(fY!=null&&fY.$==3){ fW.s=c5(fX);const fZ=fY.$0;for(let f0=0, f1=o(fZ)-1;f0<=f1;f0++)(l(fZ, f0))(fX);} else void 0;}
function cr(fW, fX){ const fY=fW.s;if(fY!=null&&fY.$==3){ fW.s=c4(fX, fY.$1);const fZ=fY.$0;for(let f0=0, f1=o(fZ)-1;f0<=f1;f0++)(l(fZ, f0))(fX);} else void 0;}
function cs(fW, fX, fY){ return ca((fZ) => fW(fX, fZ), fY);}
function ct(fW, fX, fY){ return ca((fZ) => fW(fZ, fX), fY);}
function cu(fW, fX){ const fY=fW.s;if(fY==null)dO(fX);else fY!=null&&fY.$==2?cv(fY.$1, fX):fY!=null&&fY.$==3?cv(fY.$1, fX):void 0;}
function cv(fW, fX){ fW.push(fX);if(fW.length%20===0){ const fY=fW.slice(0);fL(fW);for(let f0=0, f1=o(fY)-1;f0<=f1;f0++){ const fZ=l(fY, f0);if(typeof fZ=="object")(((f2) => { if(f2.s)fW.push(f2);})(fZ));else(((f2) => { fW.push(f2);})(fZ));} } else void 0;}
class cw extends j { idle;robin;Fork(fW){ this.robin.push(fW);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const fW=Date.now();let fX=true;while(fX)if(this.robin.length===0){ this.idle=true;fX=false;} else {(this.robin.shift())();Date.now()-fW>40?(setTimeout(() => { this.tick();}, 0),fX=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} }
class cx extends Error { reason;constructor(fW){ super("Promise rejected");this.reason=fW;} }
let cy=fQ((fW) => class fX { static { cy=fW(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=br(false, []);this.scheduler=new cw();this.defCTS=[new c8()];this.Zero=O();this.GetCT=(fY) => { fY.k(bp(fY.ct));};} });
function cz(){ throw new e1("New");}
function cA(fW){ return fW instanceof Array?cB(fW):u(typeof fW, "string")?cC(fW):fW.GetEnumerator();}
function cB(fW){ return new cE(0, null, (fX) => { const fY=fX.s;return fY<o(fW)&&(fX.c=l(fW, fY),fX.s=fY+1,true);}, void 0);}
function cC(fW){ return new cE(0, null, (fX) => { const fY=fX.s;return fY<fW.length&&(fX.c=fW[fY],fX.s=fY+1,true);}, void 0);}
function cD(fW){ return fW instanceof Array?cB(fW):u(typeof fW, "string")?cC(fW):"GetEnumerator0"in fW?fW.GetEnumerator0():fW.GetEnumerator();}
class cE extends j { s;c;n;d;e;MoveNext(){ const fW=this.n(this);this.e=fW?1:2;return fW;} get Current(){ return this.e===1?this.c:this.e===0?g("Enumeration has not started. Call MoveNext."):g("Enumeration already finished.");} Dispose(){ if(this.d)this.d(this);} constructor(fW, fX, fY, fZ){ super();this.s=fW;this.c=fX;this.n=fY;this.d=fZ;this.e=0;} }
let cF=fQ((fW) => class fX { static { cF=fW(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new bl("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new bl("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
function cG(fW, fX){ cH(fW, fX, null);}
function cH(fW, fX, fY){ while(true){ if(fX!=null&&fX.$==1)return cM(fW, fX.$0.El, fY);else if(fX!=null&&fX.$==2){ const fZ=fX.$0;fZ.Dirty=false;fX=fZ.Current;} else if(fX==null)return fY;else if(fX!=null&&fX.$==4)return cM(fW, fX.$0.Text, fY);else if(fX!=null&&fX.$==5)return cM(fW, fX.$0, fY);else if(fX!=null&&fX.$==6)return bO((f2, f3) =>((((f4) =>(f5) =>(f6) => f5==null||f5.constructor===Object?cH(f4, f5, f6):cM(f4, f5, f6))(fW))(f2))(f3), fX.$0.Els, fY);else { const f0=fX.$1;const f1=fX.$0;fX=f1;fY=cH(fW, f0, fY);} } }
function cI(fW, fX){ return eB(eC(), cN(fW, dV(), fX));}
function cJ(fW, fX, fY){ if(dE()){ const fZ=null;return M(() => { const f0=eD(fY);const f1=cR(fX, f0);const f2=cQ(fX, f0);return N(dF(dG(f1, cP(fX, f0))), () => N(cO(fW, fX), () => N(dF(f2), () => { fX.PreviousNodes=f0;return O(null);})));});} else return cO(fW, fX);}
function cK(fW, fX, fY){ const fZ=eD(fY);cS(fW, fX.Top);fX.PreviousNodes=fZ;}
function cL(fW, fX){ const fY=fW.parentNode;const fZ=globalThis.document.createTextNode("");fY.insertBefore(fZ, fW);cV(fW, fX);return fZ;}
function cM(fW, fX, fY){ dy(fW, fY, fX);return fX;}
function cN(fW, fX, fY){ cG(fW, fY);const fZ=dP(fW, fX);return c0.New(fZ, fY, null, fW, c1(), fR(fZ.OnAfterRender));}
function cO(fW, fX){ if(dL()){ const fY=(fZ) => { requestAnimationFrame(() => { cS(fW, fX.Top);fZ();});};return V((fZ, f0, f1) => fY.apply(null, [fZ, f0, f1]));} else { cS(fW, fX.Top);return O(null);} }
function cP(fW, fX){ return dJ(bP((fY) => dX(fY.Attr), eH(eG(fX, eF((fY) => dW(fY.Attr), fW.PreviousNodes)))));}
function cQ(fW, fX){ return dJ(bP((fY) => dZ(fY.Attr), eH(eG(fW.PreviousNodes, eF((fY) => dY(fY.Attr), fX)))));}
function cR(fW, fX){ const fY=(f0) => d0(f0.Attr);const fZ=(f0) => eF(fY, f0);return dJ(bP((f0) => d1(f0.Attr), eH(eI(fZ(fW.PreviousNodes), fZ(fX)))));}
function cS(fW, fX){!fW?cW(fX):void 0;cX(fX.Children);cY(fX);}
function cT(){ return{Text:globalThis.document.createTextNode(""), Dirty:false, Value:""};}
function cU(fW, fX){ fW.Value=fX;fW.Dirty=true;}
function cV(fW, fX){ cH(fW.parentNode, fX, fW);}
function cW(fW){ function fX(fY){ function fZ(f0){ while(true){ if(f0!=null&&f0.$==0){ const f1=f0.$1;const f2=f0.$0;if(fZ(f2))return true;else f0=f1;} else if(f0!=null&&f0.$==2){ const f3=f0.$0;if(f3.Dirty)return true;else f0=f3.Current;} else if(f0!=null&&f0.$==6){ const f4=f0.$0;return f4.Dirty||bL(fX, f4.Holes);} else return false;} } return fZ(fY.Children);} d4(fW.El, fW.Attr);if(fX(fW))cZ(fW);}
function cX(fW){ while(true){ if(fW!=null&&fW.$==1)return cS(false, fW.$0);else if(fW!=null&&fW.$==2){ const fX=fW.$0;fW=fX.Current;} else if(fW==null)return null;else if(fW!=null&&fW.$==5)return null;else if(fW!=null&&fW.$==4){ const fY=fW.$0;return fY.Dirty?(fY.Text.nodeValue=fY.Value,fY.Dirty=false):null;} else if(fW!=null&&fW.$==6){ const fZ=fW.$0;bN((f2) => { cS(false, f2);}, fZ.Holes);bN((f2) => { d4(f2[0], f2[1]);}, fZ.Attrs);return cY(fZ);} else { const f0=fW.$1;const f1=fW.$0;cX(f1);fW=f0;} } }
function cY(fW){ const fX=fR(fW.Render);if(fX!=null&&fX.$==1){ fX.$0(fW.El);fP(fW, "Render", null);} }
function cZ(fW){ const fX=fW.El;function fY(f2, f3){ while(true){ if(f2!=null&&f2.$==1)return f2.$0.El;else if(f2!=null&&f2.$==2){ const f4=f2.$0;if(f4.Dirty){ f4.Dirty=false;return cH(fX, f4.Current, f3);} else f2=f4.Current;} else if(f2==null)return f3;else if(f2!=null&&f2.$==4)return f2.$0.Text;else if(f2!=null&&f2.$==5)return f2.$0;else if(f2!=null&&f2.$==6){ const f5=f2.$0;if(f5.Dirty)f5.Dirty=false;return bO((f8, f9) => f8==null||f8.constructor===Object?fY(f8, f9):f8, f5.Els, f3);} else { const f6=f2.$1;const f7=f2.$0;f2=f7;f3=fY(f6, f3);} } } const fZ=fW.El;fB((f2) => { dz(fZ, f2);}, fA(fC(fW), fz(fW.El, fR(fW.Delimiters))));let f0=fW.Children;const f1=fR(fW.Delimiters);fY(f0, f1!=null&&f1.$==1?f1.$0[1]:null);}
class c0 { Attr;Children;Delimiters;El;ElKey;Render;Equals(fW){ return this.ElKey===fW.ElKey;} GetHashCode(){ return this.ElKey;} static New(fW, fX, fY, fZ, f0, f1){ const f2={Attr:fW, Children:fX, El:fZ, ElKey:f0};let f3=(fP(f2, "Delimiters", fY),fP(f2, "Render", f1),f2);return fU(c0, f3);} }
function c1(){ c2(c3()+1);return c3();}
function c2(fW){ eT.counter=fW;}
function c3(){ return eT.counter;}
function c4(fW, fX){ return{$:2, $0:fW, $1:fX};}
function c5(fW){ return{$:0, $0:fW};}
function c6(fW, fX){ return{$:3, $0:fW, $1:fX};}
class c7 extends Error { ct;static New(fW){ return new this("New", fW);} static New_1(fW, fX, fY){ return new this("New_1", fW, fX, fY);} constructor(fW, fX, fY, fZ){ let f0;if(fW=="New"){ f0=fX;fW="New_1";fX="The operation was canceled.";fY=null;fZ=f0;} if(fW=="New_1"){ const f1=fX;const f2=fY;const f3=fZ;super(f1);this.inner=f2;this.ct=f3;} } }
class c8 extends j { init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} }
class c9 extends bk { docNode_1;updates_1;elt;rvUpdates;static TreeNode(fW, fX){ const fY=ez.Create(fX);const fZ=bP((f2) => dQ(f2[1]), fW.Attrs);let f0=ew(c_(), de, fZ);let f1=de(f0, fY.v);return new c9(b5(fW), f1, l(fW.Els, 0), fY);} constructor(fW, fX, fY, fZ){ super(fW, fX);this.docNode_1=fW;this.updates_1=fX;this.elt=fY;this.rvUpdates=fZ;} }
function c_(fW){ const fX={s:c5(fW)};return() => fX;}
function c$(fW, fX){ function fY(){ b$(fX(), fW, () => { U().Fork(fY);});} U().Fork(fY);}
function da(fW, fX){ return df(() => ca(fW, fX()));}
function db(fW, fX, fY, fZ){ return df(() => cb(fW, fX(), fY(), fZ()));}
function dc(fW){ return df(() => cc(bx((fX) => fX(), fW)));}
function dd(fW, fX, fY){ return df(() => cd(fW, fX(), fY()));}
function de(fW, fX){ return df(() => ce(fW(), fX()));}
function df(fW){ const fX={c:null, o:fW};return() => { let fY=fX.c;if(fY===null){ fY=fX.o();fX.c=fY;const fZ=fY.s;if(fZ!=null&&fZ.$==0)fX.o=null;else cg(fY, () => { fX.c=null;});return fY;} else return fY;};}
function dg(fW){ let fX=null;let fY=0;const fZ=fW.textContent;const f0=new RegExp(bj(), "g");while(fX=f0.exec(fZ),fX!==null){ fW.parentNode.insertBefore(globalThis.document.createTextNode(do_1(fZ, u0032(fY), u0032(f0.lastIndex-l(fX, 0).length-1))), fW);fY=f0.lastIndex;const f1=globalThis.document.createElement("span");f1.setAttribute("ws-replace", l(fX, 1).toLowerCase());fW.parentNode.insertBefore(f1, fW);} f0.lastIndex=0;fW.textContent=do_1(fZ, u0032(fY), null);}
function dh(fW){ console.warn("Instantiating non-loaded template", fW);}
function di(fW, fX, fY){ const fZ=fW.querySelector("[ws-replace]");return u(fZ, null)?(console.warn("Filling non-existent text hole", fY),null):(fZ.parentNode.replaceChild(globalThis.document.createTextNode(fX), fZ),u0032(fZ.getAttribute("ws-replace")));}
function dj(fW, fX){ const fY=(fZ) => { bg(fW, "["+fZ+"]", (f0) => { if(!fX.Contains(f0.getAttribute(fZ)))f0.removeAttribute(fZ);});};fY("ws-attr");fY("ws-onafterrender");fY("ws-var");bg(fW, "[ws-hole]", (fZ) => { if(!fX.Contains(fZ.getAttribute("ws-hole"))){ fZ.removeAttribute("ws-hole");while(fZ.hasChildNodes())fZ.removeChild(fZ.lastChild);} });bg(fW, "[ws-replace]", (fZ) => { if(!fX.Contains(fZ.getAttribute("ws-replace")))fZ.parentNode.removeChild(fZ);});bg(fW, "[ws-on]", (fZ) => { fZ.setAttribute("ws-on", eo(" ", bQ((f0) => fX.Contains(l(ep(f0, [":"], 1), 1)), ep(fZ.getAttribute("ws-on"), [" "], 1))));});bg(fW, "[ws-attr-holes]", (fZ) => { const f0=ep(fZ.getAttribute("ws-attr-holes"), [" "], 1);for(let f4=0, f5=f0.length-1;f4<=f5;f4++){ const f1=l(f0, f4);let f2=new RegExp(bj(), "g");let f3=fZ.getAttribute(f1).replace(f2, (f6, f7) => fX.Contains(f7)?f6:"");fZ.setAttribute(f1, f3);} });}
function dk(fW, fX){ dn(fX);const fY=fX.nodeName.toLowerCase();const fZ=fW.querySelector("[ws-attr="+fY+"]");if(u(fZ, null))console.warn("Filling non-existent attr hole", fY);else { fZ.removeAttribute("ws-attr");for(let f1=0, f2=fX.attributes.length-1;f1<=f2;f1++){ const f0=fX.attributes.item(f1);if(f0.name=="class"&&fZ.hasAttribute("class"))fZ.setAttribute("class", fZ.getAttribute("class")+" "+f0.nodeValue);else fZ.setAttribute(f0.name, f0.nodeValue);} } }
function dl(fW, fX){ const fY=(fZ) => { bg(fW, "["+fZ+"]", (f0) => { let f1;const f2=(f1=null,[fX.TryGetValue(f0.getAttribute(fZ).toLowerCase(), {get:() => f1, set:(f3) => { f1=f3;}}), f1]);if(f2[0])f0.setAttribute(fZ, f2[1]);});};fY("ws-hole");fY("ws-replace");fY("ws-attr");fY("ws-onafterrender");fY("ws-var");bg(fW, "[ws-on]", (fZ) => { fZ.setAttribute("ws-on", eo(" ", bP((f0) => { let f1;const f2=ep(f0, [":"], 1);const f3=(f1=null,[fX.TryGetValue(l(f2, 1), {get:() => f1, set:(f4) => { f1=f4;}}), f1]);return f3[0]?l(f2, 0)+":"+f3[1]:f0;}, ep(fZ.getAttribute("ws-on"), [" "], 1))));});bg(fW, "[ws-attr-holes]", (fZ) => { const f0=ep(fZ.getAttribute("ws-attr-holes"), [" "], 1);for(let f1=0, f2=f0.length-1;f1<=f2;f1++)((() => { const f3=l(f0, f1);return fZ.setAttribute(f3, bv((f4, f5) => { const f6=h(f5);return f4.replace(new RegExp("\\${"+f6[0]+"}", "ig"), "${"+f6[1]+"}");}, fZ.getAttribute(f3), fX));})());});}
function dm(fW, fX, fY){ while(true){ if(fW.hasChildNodes())fY=fX.insertBefore(fW.lastChild, fY);else return null;} }
function dn(fW){ const fX=fW.attributes;const fY=[];const fZ=[];const f0=[];for(let f5=0, f6=fX.length-1;f5<=f6;f5++){ const f1=fX.item(f5);if(eq(f1.nodeName, "ws-on")&&f1.nodeName!="ws-onafterrender"&&f1.nodeName!="ws-on"){ fY.push(f1.nodeName);fZ.push(do_1(f1.nodeName, u0032("ws-on".length), null)+":"+f1.nodeValue.toLowerCase());} else if(!eq(f1.nodeName, "ws-")&&(new RegExp(bj())).test(f1.nodeValue)){ let f2=new RegExp(bj(), "g");let f3=f1.nodeValue.replace(f2, (f7, f8) =>"${"+f8.toLowerCase()+"}");f1.nodeValue=f3;f0.push(f1.nodeName);} else void 0;} if(!(fZ.length==0))fW.setAttribute("ws-on", eo(" ", fZ));if(!(f0.length==0))fW.setAttribute("ws-attr-holes", eo(" ", f0));const f4=(f7) => { const f8=fW.getAttribute(f7);if(f8==null){ } else fW.setAttribute(f7, f8.toLowerCase());};f4("ws-hole");f4("ws-replace");f4("ws-attr");f4("ws-onafterrender");f4("ws-var");bN((f7) => { fW.removeAttribute(f7);}, fY);}
function do_1(fW, fX, fY){ if(fX==null){ if(fY!=null&&fY.$==1){ const fZ=fY.$0;return fZ<0?"":fW.slice(0, fZ+1);} else return"";} else if(fY==null)return fW.slice(fX.$0);else { const f0=fY.$0;return f0<0?"":fW.slice(fX.$0, f0+1);} }
function dp(fW){ const fX=globalThis.document.createElement("div");if(!dr().test(fW)){ fX.appendChild(globalThis.document.createTextNode(fW));return fX;} else { const fY=dv().exec(fW);const fZ=u(fY, null)?"":l(fY, 1).toLowerCase();const f0=(ds())[fZ];const f1=f0?f0:dt();fX.innerHTML=f1[1]+fW.replace(du(), "<$1></$2>")+f1[2];function f2(f3, f4){ while(true){ if(f4===0)return f3;else { const f5=f4;f3=f3.lastChild;f4=f5-1;} } } return f2(fX, f1[0]);} }
function dq(fW){ const fX=[];for(let fY=0, fZ=fW.childNodes.length-1;fY<=fZ;fY++)fX.push(fW.childNodes[fY]);return fX;}
function dr(){ return eU.rhtml;}
function ds(){ return eU.wrapMap;}
function dt(){ return eU.defaultWrap;}
function du(){ return eU.rxhtmlTag;}
function dv(){ return eU.rtagName;}
function dw(fW, fX, fY){ const fZ=fW.querySelectorAll(fX);for(let f0=0, f1=fZ.length-1;f0<=f1;f0++)fY(fZ[f0]);}
function dx(fW, fX){ const fY=globalThis.document.querySelectorAll(fW);for(let fZ=0, f0=fY.length-1;fZ<=f0;fZ++)fX(fY[fZ]);}
function dy(fW, fX, fY){ let fZ;if(fY.parentNode===fW){ const f0=fY.nextSibling;let f1=u(f0, null)?null:f0;fZ=fX===f1;} else fZ=false;if(!fZ)fW.insertBefore(fY, fX);}
function dz(fW, fX){ if(fX.parentNode===fW)fW.removeChild(fX);}
function dA(){ return g("The input sequence has an insufficient number of elements.");}
function dB(fW, fX){ let fY=true;let fZ=0;while(fY&&fZ<o(fX))if(u(fX[fZ], fW))fY=false;else fZ=fZ+1;return!fY;}
function dC(){ return g("The input must be non-negative.");}
class dD extends j { d;GetEnumerator(){ return cA(bx((fW) => fW.K, this.d));} constructor(fW){ super();this.d=fW;} }
function dE(){ return eJ();}
function dF(fW){ const fX=null;return M(() => N(dH(() => { }, eK(fW)), () => { eL(fW);return O(null);}));}
function dG(fW, fX){ return dI(eW(fW.$0, fX.$0));}
function dH(fW, fX){ const fY=fX.Duration;if(fY===0)return W();else { const fZ=(f0) => { function f1(f2){ return(f3) => { const f4=f3-f2;fX.Compute(f4);fW();return f4<=fY?void requestAnimationFrame((f5) => {(f1(f2))(f5);}):f0();};} requestAnimationFrame((f2) => {(f1(f2))(f2);});};return V((f0, f1, f2) => fZ.apply(null, [f0, f1, f2]));} }
function dI(fW){ return{$:0, $0:fW};}
function dJ(fW){ return dI(eY(bx(eN, fW)));}
function dK(){ return dI(eZ());}
function dL(){ return eR.BatchUpdatesEnabled;}
function dM(fW){ const fX=[0];function fY(){ const fZ=null;return M(() => N(fW, () => { const f0=fX[0];return u(f0, 1)?(fX[0]=0,W()):u(f0, 2)?(fX[0]=1,fY()):W();}));} return() => { const fZ=fX[0];if(u(fZ, 0)){ fX[0]=1;X(fY(), null);} else u(fZ, 1)?fX[0]=2:void 0;};}
function dN(fW, fX, fY, fZ){ const f0={DynElem:fW, DynFlags:fX, DynNodes:fY};fP(f0, "OnAfterRender", fZ);return f0;}
function dO(fW){ let fX;const fY=fW.s;if(fY==null||(fY!=null&&fY.$==2?(fX=fY.$1,false):fY!=null&&fY.$==3?(fX=fY.$1,false):true))void 0;else { fW.s=null;for(let f0=0, f1=o(fX)-1;f0<=f1;f0++){ const fZ=l(fX, f0);if(typeof fZ=="object")(((f2) => { dO(f2);})(fZ));else fZ();} } }
function dP(fW, fX){ const fY=[];const fZ=[];function f0(f3){ while(true){ if(!(f3===null)){ if(f3!=null&&f3.$==1)return fY.push(f3.$0);else if(f3!=null&&f3.$==2){ const f4=f3.$1;const f5=f3.$0;f0(f5);f3=f4;} else return f3!=null&&f3.$==3?f3.$0(fW):f3!=null&&f3.$==4?fZ.push(f3.$0):null;} else return null;} } f0(fX);const f1=fY.slice(0);let f2=dN(fW, dS(fX), f1, fZ.length===0?null:u0032((f3) => { bw((f4) => { f4(f3);}, fZ);}));return f2;}
function dQ(fW){ return ex((fX) => fX.NChanged, c_(), de, fW.DynNodes);}
function dR(fW){ return dN(fW, 0, [], null);}
function dS(fW){ return fW!==null&&fW.hasOwnProperty("flags")?fW.flags:0;}
function dT(fW){ return ei.A3(fW);}
function dU(fW, fX){ return ei.A1(new e0(fW, fX));}
function dV(){ return e2.EmptyAttr;}
function dW(fW){ const fX=2;return(fW.DynFlags&fX)===fX;}
function dX(fW){ return d3(fW, (fX, fY) => fX.NGetExitAnim(fY));}
function dY(fW){ const fX=1;return(fW.DynFlags&fX)===fX;}
function dZ(fW){ return d3(fW, (fX, fY) => fX.NGetEnterAnim(fY));}
function d0(fW){ const fX=4;return(fW.DynFlags&fX)===fX;}
function d1(fW){ return d3(fW, (fX, fY) => fX.NGetChangeAnim(fY));}
function d2(fW, fX){ if(fW===null)return fX;else if(fX===null)return fW;else { const fY=ei.A2(fW, fX);d5(fY, dS(fW)|dS(fX));return fY;} }
function d3(fW, fX){ return dJ(bP((fY) => fX(fY, fW.DynElem), fW.DynNodes));}
function d4(fW, fX){ bN((fY) => { fY.NSync(fW);}, fX.DynNodes);}
function d5(fW, fX){ fW.flags=fX;}
class d6 extends q { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class d7 extends q { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class d8 extends q { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function d9(fW, fX){ return dT((fY) => { fY.addEventListener(fW, (fZ) =>(fX(fY))(fZ), false);});}
function d_(fW){ return ei.A4(fW);}
function d$(fW, fX){ return dU(fX, (fY) =>(fZ) => fY.setAttribute(fW, fZ));}
function ea(fW){ return eg(fr(), fW);}
function eb(fW){ return eg(fs(), fW);}
function ec(fW){ return eg(ft(), fW);}
function ed(fW){ return eg(fu(), fW);}
function ee(fW){ return eg(fv(), fW);}
function ef(fW){ return eg(fw(), fW);}
function eg(fW, fX){ const fY=fW(fX);return ei.Append(dT(fY[0]), eh(fY[1], fY[2]));}
function eh(fW, fX){ return dU(fX, fW);}
class ei { static Handler(fW, fX){ return ei.HandlerImpl(fW, fX);} static Concat(fW){ const fX=ey(fW);return ew(dV(), ei.Append, fX);} static Create(fW, fX){ return dT((fY) => { fY.setAttribute(fW, fX);});} static HandlerImpl(fW, fX){ return dT((fY) => { fY.addEventListener(fW, (fZ) =>(fX(fY))(fZ), false);});} static Append(fW, fX){ return d2(fW, fX);} static A4(fW){ return fU(ei, {$:4, $0:fW});} static A3(fW){ return fU(ei, {$:3, $0:fW});} static A1(fW){ return fU(ei, {$:1, $0:fW});} static A2(fW, fX){ return fU(ei, {$:2, $0:fW, $1:fX});} }
class ej extends q { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class ek extends q { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function el(fW){ return{$:0, $0:fW};}
function em(fW){ return{$:1, $0:fW};}
class en { static Cons(fW, fX){ return fU(en, {$:1, $0:fW, $1:fX});} static Empty=fU(en, {$:0});GetEnumerator(){ return new cE(this, null, (fW) => { const fX=fW.s;return fX.$==0?false:(fW.c=fX.$0,fW.s=fX.$1,true);}, void 0);} }
function eo(fW, fX){ return bR(fX).join(fW);}
function ep(fW, fX, fY){ return er(fW, new RegExp("["+es(fX.join(""))+"]"), fY);}
function eq(fW, fX){ return fW.substring(0, fX.length)==fX;}
function er(fW, fX, fY){ return fY===1?bQ((fZ) => fZ!=="", et(fW, fX)):et(fW, fX);}
function es(fW){ return fW.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function et(fW, fX){ return fW.split(fX);}
function eu(fW, fX){ return bG(fW, ev(fX));}
function ev(fW){ return fW==null?"":fW;}
function ew(fW, fX, fY){ const fZ=o(fY);function f0(f1){ return(f2) => { let f3;switch(f2<=0?0:f2===1?f1>=0&&f1<fZ?1:(f3=f2,2):(f3=f2,2)){ case 0:return fW;case 1:return l(fY, f1);case 2:const f4=f2/2>>0;return fX((f0(f1))(f4), (f0(f1+f4))(f2-f4));} };} return(f0(0))(fZ);}
function ex(fW, fX, fY, fZ){ const f0=o(fZ);function f1(f2){ return(f3) => { let f4;switch(f3<=0?0:f3===1?f2>=0&&f2<f0?1:(f4=f3,2):(f4=f3,2)){ case 0:return fX;case 1:return fW(l(fZ, f2));case 2:const f5=f3/2>>0;return fY((f1(f2))(f5), (f1(f2+f5))(f3-f5));} };} return(f1(0))(f0);}
function ey(fW){ if(fW instanceof Array)return fW;else if(fW instanceof en)return bT(fW);else if(fW===null)return[];else { const fX=[];const fY=cA(fW);try { while(fY.MoveNext())fX.push(fY.Current);return fX;} finally { if(typeof fY=="object"&&a(fY))fY.Dispose();} } }
class ez { c;s;v;static Create(fW){ let fX;fX=null;fX=ez.New(fW, null, () => { let fY;fY=fX.s;return fY===null?(fY=cf(fX.c()),fX.s=fY,cg(fY, () => { fX.s=null;}),fY):fY;});return fX;} static New(fW, fX, fY){ return fU(ez, {c:fW, s:fX, v:fY});} }
class eA extends j { d;GetEnumerator(){ return cA(bx((fW) => fW.V, this.d));} constructor(fW){ super();this.d=fW;} }
function eB(fW, fX){ return{PreviousNodes:fW, Top:fX};}
function eC(){ return eE(new bs("New_3"));}
function eD(fW){ const fX=[];function fY(f1, f2){ while(true)switch(f1){ case 0:if(f2!=null&&f2.$==0){ const f3=f2.$1;const f4=f2.$0;fY(0, f4);f2=f3;} else if(f2!=null&&f2.$==1){ const f5=f2.$0;f2=f5;f1=1;} else if(f2!=null&&f2.$==2){ const f6=f2.$0;f2=f6.Current;} else if(f2!=null&&f2.$==6){ const f7=f2.$0.Holes;return(((f8) =>(f9) => { bN(f8, f9);})(f0))(f7);} else return null;break;case 1:fX.push(f2);f2=f2.Children;f1=0;break;} } function fZ(f1){ return fY(0, f1);} function f0(f1){ return fY(1, f1);} fZ(fW);return eE(new bs("New_2", fX));}
function eE(fW){ return{$:0, $0:fW};}
function eF(fW, fX){ return eE(e4(fW, fX.$0));}
function eG(fW, fX){ return eE(e5(fW.$0, fX.$0));}
function eH(fW){ return e6(fW.$0);}
function eI(fW, fX){ return eE(e7(fW.$0, fX.$0));}
function eJ(){ return eV.UseAnimations;}
function eK(fW){ return eM(bI((fX) => fX.$==1?u0032(fX.$0):null, eX(fW.$0)));}
function eL(fW){ bN((fX) => { if(fX.$==0)fX.$0();}, eX(fW.$0));}
function eM(fW){ const fX=ey(fW);const fY=o(fX);if(fY===0)return eO();else if(fY===1)return l(fX, 0);else { const fZ=bA(bx((f1) => f1.Duration, fX));const f0=bP((f1) => eQ(fZ, f1), fX);return eP(fZ, (f1) => { bN((f2) => { f2.Compute(f1);}, f0);});} }
function eN(fW){ return fW.$0;}
function eO(fW){ return eP(0, () => fW);}
function eP(fW, fX){ return{Compute:fX, Duration:fW};}
function eQ(fW, fX){ const fY=fX.Compute;const fZ=fX.Duration;const f0=fH(() => fX.Compute(fX.Duration));return{Compute:(f1) => f1>=fZ?f0.f():fY(f1), Duration:fW};}
let eR=fQ((fW) => class fX { static { eR=fW(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
function eS(fW){ let fX=[];let fY;for(var fZ in fW)fX.push.apply(fX, fW[fZ]);return fX;}
let eT=fQ((fW) => class fX { static { eT=fW(this);} static counter;static { this.counter=0;} });
let eU=fQ((fW) => class fX { static { eU=fW(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const fY=[1, "<table>", "</table>"];let fZ=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", fY], ["tbody", fY], ["tfoot", fY], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=fZ;this.defaultWrap=[0, "", ""];} });
let eV=fQ((fW) => class fX { static { eV=fW(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=e3.Custom((fY) => { const fZ=fY*fY;return 3*fZ-2*(fZ*fY);});this.UseAnimations=true;} });
function eW(fW, fX){ return fW.$==0?fX:fX.$==0?fW:{$:2, $0:fW, $1:fX};}
function eX(fW){ const fX=[];function fY(fZ){ while(true){ if(fZ.$==1)return fX.push(fZ.$0);else if(fZ.$==2){ const f0=fZ.$1;const f1=fZ.$0;fY(f1);fZ=f0;} else return fZ.$==3?bN((f2) => { fX.push(f2);}, fZ.$0):null;} } fY(fW);return fX.slice(0);}
function eY(fW){ const fX=ey(fW);return ew(eZ(), eW, fX);}
function eZ(){ return fK.Empty;}
class e0 extends j { push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(fW){ return dK();} NGetEnterAnim(fW){ return dK();} NGetChangeAnim(fW){ return dK();} NSync(fW){ if(this.dirty){(this.push(fW))(this.value);this.dirty=false;} } constructor(fW, fX){ super();this.push=fX;this.value=void 0;this.dirty=false;this.updates=da((fY) => { this.value=fY;this.dirty=true;}, fW);} }
class e1 extends Error { static New(){ return new this("New");} static New_1(fW){ return new this("New_1", fW);} constructor(fW, fX){ if(fW=="New"){ fW="New_1";fX="The given key was not present in the dictionary.";} if(fW=="New_1"){ const fY=fX;super(fY);} } }
let e2=fQ((fW) => class fX { static { e2=fW(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(gc) =>[(gd) => { gd.addEventListener("change", () => gc.Get()!=gd.checked?gc.Set(gd.checked):null);}, (gd) =>(ge) => ge!=null&&ge.$==1?void(gd.checked=ge.$0):null, da(u0032, gc.View)];this.StringSet=(gc) =>(gd) => { gc.value=gd;};this.StringGet=(gc) => u0032(gc.value);const fY=fb();const fZ=fa();this.StringApply=(gc) => e$(fY, fZ, gc);this.StringListSet=(gc) =>(gd) => { const ge=gc.options;for(let gf=0, gg=ge.length-1;gf<=gg;gf++)((() => { const gh=ge.item(gf);gh.selected=dB(gh.value, gd);})());};this.StringListGet=(gc) => { const gd=gc.selectedOptions;return u0032(bR(by(() => bz((ge) =>[gd.item(ge).value], i(0, gd.length-1)))));};const f0=fd();const f1=fc();this.StringListApply=(gc) => e$(f0, f1, gc);this.DateTimeSetUnchecked=(gc) =>(gd) => { gc.value=(new Date(gd)).toLocaleString();};this.DateTimeGetUnchecked=(gc) => { let gd;let ge;const gf=gc.value;if(fx(gf))return u0032(-8640000000000000);else { gd=0;const gg=fF(gf);let gh=gg!=null&&gg.$==1&&(gd=gg.$0,true);ge=[gh, gd];return ge[0]?u0032(ge[1]):null;} };const f2=ff();const f3=fe();this.DateTimeApplyUnchecked=(gc) => e$(f2, f3, gc);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(gc) => { const gd=gc.files;return u0032(bR(by(() => bx((ge) => gd.item(ge), i(0, gd.length-1)))));};const f4=fi();const f5=fh();this.FileApplyUnchecked=(gc) => fg(f4, f5, gc);this.IntSetUnchecked=(gc) =>(gd) => { gc.value=String(gd);};this.IntGetUnchecked=(gc) => { const gd=gc.value;if(fx(gd))return u0032(0);else { const ge=+gd;return ge!==ge>>0?null:u0032(ge);} };const f6=fk();const f7=fj();this.IntApplyUnchecked=(gc) => e$(f6, f7, gc);this.IntSetChecked=(gc) =>(gd) => { const ge=gd.Input;return gc.value!=ge?void(gc.value=ge):null;};this.IntGetChecked=(gc) => { let gd;let ge;const gf=gc.value;if(fx(gf))gd=(gc.checkValidity?gc.checkValidity():true)?fy.Blank(gf):fy.Invalid(gf);else { const gg=(ge=0,[b9(gf, {get:() => ge, set:(gh) => { ge=gh;}}), ge]);gd=gg[0]?fy.Valid(gg[1], gf):fy.Invalid(gf);} return u0032(gd);};const f8=fm();const f9=fl();this.IntApplyChecked=(gc) => e$(f8, f9, gc);this.FloatSetUnchecked=(gc) =>(gd) => { gc.value=String(gd);};this.FloatGetUnchecked=(gc) => { const gd=gc.value;if(fx(gd))return u0032(0);else { const ge=+gd;return isNaN(ge)?null:u0032(ge);} };const f_=fo();const f$=fn();this.FloatApplyUnchecked=(gc) => e$(f_, f$, gc);this.FloatSetChecked=(gc) =>(gd) => { const ge=gd.Input;return gc.value!=ge?void(gc.value=ge):null;};this.FloatGetChecked=(gc) => { let gd;const ge=gc.value;if(fx(ge))gd=(gc.checkValidity?gc.checkValidity():true)?fy.Blank(ge):fy.Invalid(ge);else { const gf=+ge;gd=isNaN(gf)?fy.Invalid(ge):fy.Valid(gf, ge);} return u0032(gd);};const ga=fq();const gb=fp();this.FloatApplyChecked=(gc) => e$(ga, gb, gc);} });
class e3 extends j { transformTime;static Custom(fW){ return new e3(fW);} constructor(fW){ super();this.transformTime=fW;} }
function e4(fW, fX){ return new bs("New_2", bQ(fW, e6(fX)));}
function e5(fW, fX){ const fY=new bs("New_2", e6(fX));fY.ExceptWith(e6(fW));return fY;}
function e6(fW){ const fX=bV(fW.Count, void 0);fW.CopyTo(fX, 0);return fX;}
function e7(fW, fX){ const fY=new bs("New_2", e6(fW));fY.IntersectWith(e6(fX));return fY;}
function e8(fW){ return fW.$==1?fW.$0:e_();}
function e9(fW){ return fW.$==1?fW.$1:e_();}
function e_(){ return g("The input list was empty.");}
function e$(fW, fX, fY){ let fZ;fZ=null;return[(f0) => { const f1=() => { fY.UpdateMaybe((f2) => { let f3;fZ=fW(f0);return fZ!=null&&fZ.$==1&&(!u(fZ.$0, f2)&&(f3=[fZ, fZ.$0],true))?f3[0]:null;});};f0.addEventListener("change", f1);f0.addEventListener("input", f1);f0.addEventListener("keypress", f1);}, (f0) => { const f1=fX(f0);return(f2) => f2==null?null:f1(f2.$0);}, da((f0) => { let f1;return fZ!=null&&fZ.$==1&&(u(fZ.$0, f0)&&(f1=fZ.$0,true))?null:u0032(f0);}, fY.View)];}
function fa(){ return e2.StringSet;}
function fb(){ return e2.StringGet;}
function fc(){ return e2.StringListSet;}
function fd(){ return e2.StringListGet;}
function fe(){ return e2.DateTimeSetUnchecked;}
function ff(){ return e2.DateTimeGetUnchecked;}
function fg(fW, fX, fY){ let fZ;fZ=null;return[(f0) => { f0.addEventListener("change", () => { fY.UpdateMaybe((f1) => { let f2;fZ=fW(f0);return fZ!=null&&fZ.$==1&&(fZ.$0!==f1&&(f2=[fZ, fZ.$0],true))?f2[0]:null;});});}, (f0) => { const f1=fX(f0);return(f2) => f2==null?null:f1(f2.$0);}, da((f0) => { let f1;return fZ!=null&&fZ.$==1&&(u(fZ.$0, f0)&&(f1=fZ.$0,true))?null:u0032(f0);}, fY.View)];}
function fh(){ return e2.FileSetUnchecked;}
function fi(){ return e2.FileGetUnchecked;}
function fj(){ return e2.IntSetUnchecked;}
function fk(){ return e2.IntGetUnchecked;}
function fl(){ return e2.IntSetChecked;}
function fm(){ return e2.IntGetChecked;}
function fn(){ return e2.FloatSetUnchecked;}
function fo(){ return e2.FloatGetUnchecked;}
function fp(){ return e2.FloatSetChecked;}
function fq(){ return e2.FloatGetChecked;}
function fr(){ return e2.StringApply;}
function fs(){ return e2.FloatApplyUnchecked;}
function ft(){ return e2.BoolCheckedApply;}
function fu(){ return e2.DateTimeApplyUnchecked;}
function fv(){ return e2.FileApplyUnchecked;}
function fw(){ return e2.StringListApply;}
function fx(fW){ return eu(fE, fW);}
class fy { get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(fW){ return fU(fy, {$:2, $0:fW});} static Invalid(fW){ return fU(fy, {$:1, $0:fW});} static Valid(fW, fX){ return fU(fy, {$:0, $0:fW, $1:fX});} }
function fz(fW, fX){ let fY;if(fX!=null&&fX.$==1){ const fZ=[];fY=fX.$0[0].nextSibling;while(fY!==fX.$0[1]){ fZ.push(fY);fY=fY.nextSibling;} return fD(fZ);} else { let f0=fW.childNodes.length;const f1=fW.childNodes;let f2=bW(f0, (f3) => f1[f3]);return fD(f2);} }
function fA(fW, fX){ const fY=fW.$0;return fD(bQ((fZ) => bU((f0) =>!(fZ===f0), fY), fX.$0));}
function fB(fW, fX){ bN(fW, fX.$0);}
function fC(fW){ const fX=[];function fY(fZ){ while(true){ if(fZ!=null&&fZ.$==2){ const f0=fZ.$0;fZ=f0.Current;} else if(fZ!=null&&fZ.$==1)return fX.push(fZ.$0.El);else if(fZ==null)return null;else if(fZ!=null&&fZ.$==5)return fX.push(fZ.$0);else if(fZ!=null&&fZ.$==4)return fX.push(fZ.$0.Text);else if(fZ!=null&&fZ.$==6){ const f1=fZ.$0.Els;return(((f4) =>(f5) => { bN(f4, f5);})((f4) => { if(f4==null||f4.constructor===Object)fY(f4);else fX.push(f4);}))(f1);} else { const f2=fZ.$1;const f3=fZ.$0;fY(f3);fZ=f2;} } } fY(fW.Children);return fD(ey(fX));}
function fD(fW){ return{$:0, $0:fW};}
function fE(fW){ return fW.match(new RegExp("\\s"))!==null;}
function fF(fW){ const fX=Date.parse(fW);return isNaN(fX)?null:u0032(fX);}
function fG(fW, fX, fY, fZ){ const f0=+fW;const f1=f0===f0-f0%1&&f0>=fX&&f0<=fY;if(f1)fZ.set(f0);return f1;}
function fH(fW){ return fM(false, fW, fI);}
function fI(){ const fW=this.v();this.c=true;this.v=fW;this.f=fJ;return fW;}
function fJ(){ return this.v;}
let fK=fQ((fW) => class fX { static { fK=fW(this);} static Empty;static { this.Empty={$:0};} });
function fL(fW){ fW.splice(0, o(fW));}
function fM(fW, fX, fY){ return{c:fW, v:fX, f:fY};}
fV(() => { b();});
fN();

